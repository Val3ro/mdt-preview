var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function s(){return Object.create(null)}function a(e){e.forEach(n)}function i(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let o,c;function r(e,t){return o||(o=document.createElement("a")),o.href=t,e===o.href}function d(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function u(e,t,n){e.$$.on_destroy.push(d(t,n))}function p(e,n,s,a){return e[1]&&a?t(s.ctx.slice(),e[1](a(n))):s.ctx}function f(e,t,n){return e.set(n),t}function g(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function k(e){return document.createTextNode(e)}function C(){return k(" ")}function x(){return k("")}function y(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function w(e){return function(t){return t.preventDefault(),e.call(this,t)}}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e){return""===e?null:+e}function _(e,t){t=""+t,e.data!==t&&(e.data=t)}function I(e,t){e.value=null==t?"":t}function T(e,t,n){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function D(e){const t=e.querySelector(":checked");return t&&t.__value}function L(e,t,n){e.classList[n?"add":"remove"](t)}function S(e,t){return new e(t)}function N(e){c=e}function P(){if(!c)throw new Error("Function called outside component initialization");return c}function F(e){P().$$.on_mount.push(e)}function R(e){P().$$.on_destroy.push(e)}function A(){const e=P();return(t,n,{cancelable:s=!1}={})=>{const a=e.$$.callbacks[t];if(a){const i=function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(e,n,s,t),a}(t,n,{cancelable:s});return a.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function J(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const E=[],q=[];let O=[];const M=[],z=Promise.resolve();let W=!1;function B(){W||(W=!0,z.then(X))}function V(){return B(),z}function H(e){O.push(e)}const U=new Set;let Y=0;function X(){if(0!==Y)return;const e=c;do{try{for(;Y<E.length;){const e=E[Y];Y++,N(e),G(e.$$)}}catch(e){throw E.length=0,Y=0,e}for(N(null),E.length=0,Y=0;q.length;)q.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];U.has(t)||(U.add(t),t())}O.length=0}while(E.length);for(;M.length;)M.pop()();W=!1,U.clear(),N(e)}function G(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(H)}}const K=new Set;let Z;function Q(){Z={r:0,c:[],p:Z}}function ee(){Z.r||a(Z.c),Z=Z.p}function te(e,t){e&&e.i&&(K.delete(e),e.i(t))}function ne(e,t,n,s){if(e&&e.o){if(K.has(e))return;K.add(e),Z.c.push((()=>{K.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}function se(e,t){e.d(1),t.delete(e.key)}function ae(e,t,n,s,i,l,o,c,r,d,u,p){let f=e.length,g=l.length,m=f;const h={};for(;m--;)h[e[m].key]=m;const v=[],b=new Map,k=new Map,C=[];for(m=g;m--;){const e=p(i,l,m),a=n(e);let c=o.get(a);c?s&&C.push((()=>c.p(e,t))):(c=d(a,e),c.c()),b.set(a,v[m]=c),a in h&&k.set(a,Math.abs(m-h[a]))}const x=new Set,y=new Set;function w(e){te(e,1),e.m(c,u),o.set(e.key,e),u=e.first,g--}for(;f&&g;){const t=v[g-1],n=e[f-1],s=t.key,a=n.key;t===n?(u=t.first,f--,g--):b.has(a)?!o.has(s)||x.has(s)?w(t):y.has(a)?f--:k.get(s)>k.get(a)?(y.add(s),w(t)):(x.add(a),f--):(r(n,o),f--)}for(;f--;){const t=e[f];b.has(t.key)||r(t,o)}for(;g;)w(v[g-1]);return a(C),v}function ie(e,t){const n={},s={},a={$$scope:1};let i=e.length;for(;i--;){const l=e[i],o=t[i];if(o){for(const e in l)e in o||(s[e]=1);for(const e in o)a[e]||(n[e]=o[e],a[e]=1);e[i]=o}else for(const e in l)a[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}function le(e){return"object"==typeof e&&null!==e?e:{}}function oe(e){e&&e.c()}function ce(e,t,s,l){const{fragment:o,after_update:c}=e.$$;o&&o.m(t,s),l||H((()=>{const t=e.$$.on_mount.map(n).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):a(t),e.$$.on_mount=[]})),c.forEach(H)}function re(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];O.forEach((s=>-1===e.indexOf(s)?t.push(s):n.push(s))),n.forEach((e=>e())),O=t}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function de(t,n,i,l,o,r,d,u=[-1]){const p=c;N(t);const f=t.$$={fragment:null,ctx:[],props:r,update:e,not_equal:o,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||p.$$.root};d&&d(f.root);let g=!1;if(f.ctx=i?i(t,n.props||{},((e,n,...s)=>{const a=s.length?s[0]:n;return f.ctx&&o(f.ctx[e],f.ctx[e]=a)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](a),g&&function(e,t){-1===e.$$.dirty[0]&&(E.push(e),B(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),g=!0,a(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(h)}else f.fragment&&f.fragment.c();n.intro&&te(t.$$.fragment),ce(t,n.target,n.anchor,n.customElement),X()}N(p)}class ue{$destroy(){re(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const pe=[];function fe(e,t){return{subscribe:ge(e,t).subscribe}}function ge(t,n=e){let s;const a=new Set;function i(e){if(l(t,e)&&(t=e,s)){const e=!pe.length;for(const e of a)e[1](),pe.push(e,t);if(e){for(let e=0;e<pe.length;e+=2)pe[e][0](pe[e+1]);pe.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(l,o=e){const c=[l,o];return a.add(c),1===a.size&&(s=n(i)||e),l(t),()=>{a.delete(c),0===a.size&&s&&(s(),s=null)}}}}function me(t,n,s){const l=!Array.isArray(t),o=l?[t]:t,c=n.length<2;return fe(s,(t=>{let s=!1;const r=[];let u=0,p=e;const f=()=>{if(u)return;p();const s=n(l?r[0]:r,t);c?t(s):p=i(s)?s:e},g=o.map(((e,t)=>d(e,(e=>{r[t]=e,u&=~(1<<t),s&&f()}),(()=>{u|=1<<t}))));return s=!0,f(),function(){a(g),p(),s=!1}}))}const he=ge("This is the very long message of the day that will definitely wrap to the next line!"),ve=[{id:"1",name:"Officer John",status:"On-duty",rank:"6",po:"555",disciplinaries:"Basic TrainingBasic TrainingBasic Training",achievements:"Basic TrainingBasic TrainingBasic TrainingBasic Training",notes:"Basic TrainingBasic TrainingBasic Training",discord:"JohnDoe#1234",region:"Sandy Shores",lastactive:"2023-10-05T10:00:00Z",timezone:"EST",totalReports:"5",training:"Basic Training",totalduty:"5"},{id:"2",name:"Officer Jane",status:"Off-duty",rank:"5",po:"777",disciplinaries:"",achievements:"",notes:"",discord:"JohnDoe#1234",region:"Sandy Shores",lastactive:"2023-10-05T10:00:00Z",timezone:"EST",totalReports:"5",training:"Basic Training",totalduty:"5"}],be={1:{canViewReports:!0,canEditReports:!1,canViewCaseFiles:!1,canViewCalculator:!0,canViewPoliceRoster:!0,canEditPoliceRoster:!0,canEditWantedList:!1,canWriteMOD:!1,disableAlert:!0,makeAnnouncement:!1,editLaws:!1,canCreateTraining:!1,canEditTraining:!1},5:{canViewReports:!0,canEditReports:!1,canViewCaseFiles:!0,canViewCalculator:!0,canViewPoliceRoster:!0,canEditPoliceRoster:!0,canEditWantedList:!1,canWriteMOD:!1,disableAlert:!0,makeAnnouncement:!0,editLaws:!1,canCreateTraining:!1,canEditTraining:!1},6:{canViewReports:!0,canEditReports:!0,canViewCaseFiles:!0,canViewCalculator:!0,canViewPoliceRoster:!0,canEditPoliceRoster:!0,canEditWantedList:!0,canWriteMOD:!0,disableAlert:!0,makeAnnouncement:!0,editLaws:!0,canCreateTraining:!0,canEditTraining:!0}};(new Date).toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-56e5).toISOString(),(new Date).toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-36e5).toISOString();let ke=ge([{charge:"Speeding",fine:150,jail:5,note:!1,stackable:!1,stackJailCap:5,stackFineCap:150,confiscate:0},{charge:"Loitering",fine:250,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:250,confiscate:0},{charge:"Animal Cruelty",fine:200,jail:5,note:!1,stackable:!1,stackJailCap:5,stackFineCap:200,confiscate:0},{charge:"Trespassing",fine:200,jail:5,note:!1,stackable:!1,stackJailCap:5,stackFineCap:200,confiscate:0},{charge:"Criminal Threats",fine:250,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:250,confiscate:0},{charge:"Disorderly Conduct",fine:150,jail:5,note:!1,stackable:!1,stackJailCap:5,stackFineCap:150,confiscate:0},{charge:"Crimes against a Local",fine:250,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:250,confiscate:0},{charge:"Corruption Of A Court Officer",fine:450,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:450,confiscate:0},{charge:"Brandishing",fine:300,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:300,confiscate:0},{charge:"Unlawful Discharge of a Weapon",fine:350,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:350,confiscate:1},{charge:"Concealment of Identity",fine:400,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:400,confiscate:0},{charge:"Assault",fine:400,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:400,confiscate:0},{charge:"Obstruction Of A Court Officer",fine:400,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:400,confiscate:0},{charge:"Illegal Duelling",fine:450,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:450,confiscate:1},{charge:"Evading Justice",fine:300,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:300,confiscate:0},{charge:"Failure To Comply With A Lawful Order",fine:350,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:350,confiscate:0},{charge:"Assisting A Fugitive From Justice",fine:450,jail:10,note:!1,stackable:!1,stackJailCap:10,stackFineCap:450,confiscate:0},{charge:"Kidnapping",fine:500,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:500,confiscate:0},{charge:"Impersonating a Court Officer",fine:500,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:500,confiscate:6},{charge:"Arson",fine:600,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:600,confiscate:2},{charge:"Attempted Robbery",fine:800,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:800,confiscate:8},{charge:"Theft",fine:500,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:500,confiscate:2},{charge:"Robbery of Stores, Wagons & Oilrig",fine:850,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:850,confiscate:5},{charge:"Robbery of Forts & Banks",fine:1e3,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:1e3,confiscate:5},{charge:"Attempted Murder",fine:1e3,jail:15,note:!1,stackable:!1,stackJailCap:15,stackFineCap:1e3,confiscate:1},{charge:"Murder",fine:1300,jail:30,note:!1,stackable:!1,stackJailCap:30,stackFineCap:1300,confiscate:1},{charge:"Possession of Dynamite",fine:1500,jail:30,note:!1,stackable:!0,stackJailCap:30,stackFineCap:1500,confiscate:2},{charge:"Attempted Murder of a Lawman",fine:1250,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:1250,confiscate:1},{charge:"Murder of a Lawman",fine:1500,jail:30,note:!1,stackable:!1,stackJailCap:30,stackFineCap:1500,confiscate:1},{charge:"Use of a Marksmen in Major Crimes",fine:700,jail:20,note:!1,stackable:!1,stackJailCap:20,stackFineCap:700,confiscate:7},{charge:"Class A Contraband",fine:1e3,jail:0,note:!1,stackable:!0,stackJailCap:0,stackFineCap:9999999,confiscate:2},{charge:"Class B Contraband",fine:150,jail:0,note:!1,stackable:!0,stackJailCap:0,stackFineCap:9999999,confiscate:2},{charge:"Class C Contraband",fine:100,jail:0,note:!1,stackable:!0,stackJailCap:0,stackFineCap:9999999,confiscate:2},{charge:"Class D Contraband",fine:50,jail:0,note:!1,stackable:!0,stackJailCap:0,stackFineCap:9999999,confiscate:2}]);function Ce(e,t){return be[e]&&be[e][t]}function xe(e){const t=new Date(e),n=e=>e<10?"0"+e:e;return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+" "+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())}function ye(e){const t=new Date(e),n=e=>e<10?"0"+e:e;return n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())}function we(e,t,n){return e.sort(((e,s)=>"none"===n?0:e[t]<s[t]?"ascending"===n?-1:1:e[t]>s[t]?"ascending"===n?1:-1:0))}function $e(e,t,n){const s=e.length,a=Math.ceil(s/n),i=(t-1)*n,l=i+n;return{paginatedItems:e.slice(i,l),totalPages:a}}function je(e,t,n=1,s=1){const a=n+5;if(t>a+2){const s=Math.max(2,e-n),i=Math.min(t-1,e+n);let l=_e(s,i);const o=s>2,c=t-i>1,r=a-(l.length+1);switch(!0){case o&&!c:{const e=_e(s-r,s-1);l=["..."].concat(e).concat(l);break}case!o&&c:{const e=_e(i+1,i+r);l=l.concat(e).concat(["..."]);break}default:l=["..."].concat(l).concat(["..."])}return[1].concat(l).concat([t])}return _e(1,t)}function _e(e,t){return Array.from({length:t-e+1},((t,n)=>n+e))}const Ie=1,Te=ge(function(e){const t=ve.find((t=>t.id===e));return t?t.rank:null}("1"));let De={};const Le=ge(!1),Se={maxBlocksPerPage:10};function Ne(e){let n,s,a;const i=[e[2]];var l=e[0];function o(e){let n={};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return{props:n}}return l&&(n=S(l,o()),n.$on("routeEvent",e[7])),{c(){n&&oe(n.$$.fragment),s=x()},m(e,t){n&&ce(n,e,t),m(e,s,t),a=!0},p(e,t){const a=4&t?ie(i,[le(e[2])]):{};if(1&t&&l!==(l=e[0])){if(n){Q();const e=n;ne(e.$$.fragment,1,0,(()=>{re(e,1)})),ee()}l?(n=S(l,o()),n.$on("routeEvent",e[7]),oe(n.$$.fragment),te(n.$$.fragment,1),ce(n,s.parentNode,s)):n=null}else l&&n.$set(a)},i(e){a||(n&&te(n.$$.fragment,e),a=!0)},o(e){n&&ne(n.$$.fragment,e),a=!1},d(e){e&&h(s),n&&re(n,e)}}}function Pe(e){let n,s,a;const i=[{params:e[1]},e[2]];var l=e[0];function o(e){let n={};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return{props:n}}return l&&(n=S(l,o()),n.$on("routeEvent",e[6])),{c(){n&&oe(n.$$.fragment),s=x()},m(e,t){n&&ce(n,e,t),m(e,s,t),a=!0},p(e,t){const a=6&t?ie(i,[2&t&&{params:e[1]},4&t&&le(e[2])]):{};if(1&t&&l!==(l=e[0])){if(n){Q();const e=n;ne(e.$$.fragment,1,0,(()=>{re(e,1)})),ee()}l?(n=S(l,o()),n.$on("routeEvent",e[6]),oe(n.$$.fragment),te(n.$$.fragment,1),ce(n,s.parentNode,s)):n=null}else l&&n.$set(a)},i(e){a||(n&&te(n.$$.fragment,e),a=!0)},o(e){n&&ne(n.$$.fragment,e),a=!1},d(e){e&&h(s),n&&re(n,e)}}}function Fe(e){let t,n,s,a;const i=[Pe,Ne],l=[];function o(e,t){return e[1]?0:1}return t=o(e),n=l[t]=i[t](e),{c(){n.c(),s=x()},m(e,n){l[t].m(e,n),m(e,s,n),a=!0},p(e,[a]){let c=t;t=o(e),t===c?l[t].p(e,a):(Q(),ne(l[c],1,1,(()=>{l[c]=null})),ee(),n=l[t],n?n.p(e,a):(n=l[t]=i[t](e),n.c()),te(n,1),n.m(s.parentNode,s))},i(e){a||(te(n),a=!0)},o(e){ne(n),a=!1},d(e){l[t].d(e),e&&h(s)}}}function Re(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let s="";return n>-1&&(s=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:s}}window.addEventListener("message",(function(e){let t=e.data;"showMDT"===t.action&&(De=t.configData||Se,Ie=t.charId)}));const Ae=fe(null,(function(e){e(Re());const t=()=>{e(Re())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));me(Ae,(e=>e.location)),me(Ae,(e=>e.querystring));const Je=ge(void 0);async function Ee(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");await V(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=("#"==e.charAt(0)?"":"#")+e}function qe(e,t,n){let{routes:s={}}=t,{prefix:a=""}=t,{restoreScrollState:i=!1}=t;class l{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:s}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,a,i,l=[],o="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)"*"===(n=a[0])?(l.push("wild"),o+="/(.*)"):":"===n?(s=a.indexOf("?",1),i=a.indexOf(".",1),l.push(a.substring(1,~s?s:~i?i:a.length)),o+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~s?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:l,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=n,this._keys=s}match(e){if(a)if("string"==typeof a){if(!e.startsWith(a))return null;e=e.substr(a.length)||"/"}else if(a instanceof RegExp){const t=e.match(a);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let s=0;for(;s<this._keys.length;){try{n[this._keys[s]]=decodeURIComponent(t[s+1]||"")||null}catch(e){n[this._keys[s]]=null}s++}return n}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const o=[];s instanceof Map?s.forEach(((e,t)=>{o.push(new l(t,e))})):Object.keys(s).forEach((e=>{o.push(new l(e,s[e]))}));let c=null,r=null,d={};const u=A();async function p(e,t){await V(),u(e,t)}let f=null,g=null;var m;i&&(g=e=>{f=e.state&&(e.state.__svelte_spa_router_scrollY||e.state.__svelte_spa_router_scrollX)?e.state:null},window.addEventListener("popstate",g),m=()=>{var e;(e=f)?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)},P().$$.after_update.push(m));let h=null,v=null;const b=Ae.subscribe((async e=>{h=e;let t=0;for(;t<o.length;){const s=o[t].match(e.location);if(!s){t++;continue}const a={route:o[t].path,location:e.location,querystring:e.querystring,userData:o[t].userData,params:s&&"object"==typeof s&&Object.keys(s).length?s:null};if(!await o[t].checkConditions(a))return n(0,c=null),v=null,void p("conditionsFailed",a);p("routeLoading",Object.assign({},a));const i=o[t].component;if(v!=i){i.loading?(n(0,c=i.loading),v=i,n(1,r=i.loadingParams),n(2,d={}),p("routeLoaded",Object.assign({},a,{component:c,name:c.name,params:r}))):(n(0,c=null),v=null);const t=await i();if(e!=h)return;n(0,c=t&&t.default||t),v=i}return s&&"object"==typeof s&&Object.keys(s).length?n(1,r=s):n(1,r=null),n(2,d=o[t].props),void p("routeLoaded",Object.assign({},a,{component:c,name:c.name,params:r})).then((()=>{Je.set(r)}))}n(0,c=null),v=null,Je.set(void 0)}));return R((()=>{b(),g&&window.removeEventListener("popstate",g)})),e.$$set=e=>{"routes"in e&&n(3,s=e.routes),"prefix"in e&&n(4,a=e.prefix),"restoreScrollState"in e&&n(5,i=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[c,r,d,s,a,i,function(t){J.call(this,e,t)},function(t){J.call(this,e,t)}]}class Oe extends ue{constructor(e){super(),de(this,e,qe,Fe,l,{routes:3,prefix:4,restoreScrollState:5})}}function Me(e){let t;return{c(){t=b("li"),t.innerHTML='<a href="#/police-roster" class="svelte-37hig8">Roster</a>',$(t,"class","svelte-37hig8")},m(e,n){m(e,t,n)},d(e){e&&h(t)}}}function ze(e){let t;return{c(){t=b("li"),t.innerHTML='<a href="#/case-files" class="svelte-37hig8">Case Files</a>',$(t,"class","svelte-37hig8")},m(e,n){m(e,t,n)},d(e){e&&h(t)}}}function We(e){let t;return{c(){t=b("li"),t.innerHTML='<a href="#/calculator-configuration" class="svelte-37hig8">Calc Config.</a>',$(t,"class","svelte-37hig8")},m(e,n){m(e,t,n)},d(e){e&&h(t)}}}function Be(t){let n,s,i,l,o,c,r,d,u,p,f,v,k,x,w,j,_,I,T,D,L,S,N,P=t[0]&&Me(),F=t[2]&&ze(),R=t[1]&&We();return{c(){n=b("nav"),s=b("button"),s.textContent="◀",i=C(),l=b("div"),o=b("ul"),c=b("li"),c.innerHTML='<a href="#/" class="svelte-37hig8">Pinboard</a>',r=C(),P&&P.c(),d=C(),u=b("li"),u.innerHTML='<a href="#/alerts" class="svelte-37hig8">Alerts</a>',p=C(),f=b("li"),f.innerHTML='<a href="#/laws" class="svelte-37hig8">Laws</a>',v=C(),k=b("li"),k.innerHTML='<a href="#/reports" class="svelte-37hig8">Reports</a>',x=C(),w=b("li"),w.innerHTML='<a href="#/player-profiles" class="svelte-37hig8">Profiles</a>',j=C(),_=b("li"),_.innerHTML='<a href="#/trainings" class="svelte-37hig8">Trainings</a>',I=C(),F&&F.c(),T=C(),R&&R.c(),D=C(),L=b("button"),L.textContent="▶",$(s,"class","svelte-37hig8"),$(c,"class","svelte-37hig8"),$(u,"class","svelte-37hig8"),$(f,"class","svelte-37hig8"),$(k,"class","svelte-37hig8"),$(w,"class","svelte-37hig8"),$(_,"class","svelte-37hig8"),$(o,"class","svelte-37hig8"),$(l,"id","nav-scroll-container"),$(l,"class","svelte-37hig8"),$(L,"class","svelte-37hig8"),$(n,"class","svelte-37hig8")},m(e,a){m(e,n,a),g(n,s),g(n,i),g(n,l),g(l,o),g(o,c),g(o,r),P&&P.m(o,null),g(o,d),g(o,u),g(o,p),g(o,f),g(o,v),g(o,k),g(o,x),g(o,w),g(o,j),g(o,_),g(o,I),F&&F.m(o,null),g(o,T),R&&R.m(o,null),g(n,D),g(n,L),S||(N=[y(s,"click",t[4]),y(L,"click",t[5])],S=!0)},p(e,[t]){e[0]?P||(P=Me(),P.c(),P.m(o,d)):P&&(P.d(1),P=null),e[2]?F||(F=ze(),F.c(),F.m(o,T)):F&&(F.d(1),F=null),e[1]?R||(R=We(),R.c(),R.m(o,null)):R&&(R.d(1),R=null)},i:e,o:e,d(e){e&&h(n),P&&P.d(),F&&F.d(),R&&R.d(),S=!1,a(N)}}}function Ve(e){const t=document.getElementById("nav-scroll-container");t&&("left"===e?t.scrollLeft-=330:t.scrollLeft+=330)}function He(e,t,n){let s,a,i,l;u(e,Te,(e=>n(3,l=e)));return e.$$.update=()=>{8&e.$$.dirty&&n(2,s=Ce(`${l}`,"canViewCaseFiles")),8&e.$$.dirty&&n(1,a=Ce(`${l}`,"canViewCalculator")),8&e.$$.dirty&&n(0,i=Ce(`${l}`,"canViewPoliceRoster"))},[i,a,s,l,()=>Ve("left"),()=>Ve("right")]}class Ue extends ue{constructor(e){super(),de(this,e,He,Be,l,{})}}function Ye(e){let t,n,s,a,i;s=new Ue({});const l=e[1].default,o=function(e,t,n,s){if(e){const a=p(e,t,n,s);return e[0](a)}}(l,e,e[0],null);return{c(){t=b("h1"),t.textContent=`${Xe}`,n=C(),oe(s.$$.fragment),a=C(),o&&o.c(),$(t,"class","svelte-13whrd")},m(e,l){m(e,t,l),m(e,n,l),ce(s,e,l),m(e,a,l),o&&o.m(e,l),i=!0},p(e,[t]){o&&o.p&&(!i||1&t)&&function(e,t,n,s,a,i){if(a){const l=p(t,n,s,i);e.p(l,a)}}(o,l,e,e[0],i?function(e,t,n,s){if(e[2]&&s){const a=e[2](s(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|a[s];return e}return t.dirty|a}return t.dirty}(l,e[0],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[0]),null)},i(e){i||(te(s.$$.fragment,e),te(o,e),i=!0)},o(e){ne(s.$$.fragment,e),ne(o,e),i=!1},d(e){e&&h(t),e&&h(n),re(s,e),e&&h(a),o&&o.d(e)}}}let Xe="Syn County Sheriff Registry";function Ge(e,t,n){let{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{"$$scope"in e&&n(0,a=e.$$scope)},[a,s]}class Ke extends ue{constructor(e){super(),de(this,e,Ge,Ye,l,{})}}function Ze(e){let t,n,s,i;return{c(){t=b("div"),n=b("input"),$(n,"type","text"),$(n,"placeholder","Write a new message of the day"),$(n,"data-type","message"),$(n,"class","svelte-1qnajmb")},m(a,l){var o;m(a,t,l),g(t,n),I(n,e[0]),s||(i=[y(n,"input",e[6]),y(n,"keypress",(o=e[7],function(e){e.target===this&&o.call(this,e)}))],s=!0)},p(e,t){1&t&&n.value!==e[0]&&I(n,e[0])},d(e){e&&h(t),s=!1,a(i)}}}function Qe(t){let n,s,a,i,l,o,c,r,d,u=t[2]&&Ze(t);return{c(){n=b("div"),s=b("div"),a=b("p"),i=k(t[3]),l=C(),o=b("p"),c=k(t[3]),r=C(),u&&u.c(),d=x(),$(a,"class","typewriter-text svelte-1qnajmb"),$(o,"class","typewriter-text svelte-1qnajmb"),$(s,"class","typewriter-wrapper svelte-1qnajmb"),$(n,"class","typewriter-container svelte-1qnajmb")},m(e,p){m(e,n,p),g(n,s),g(s,a),g(a,i),g(s,l),g(s,o),g(o,c),t[5](s),m(e,r,p),u&&u.m(e,p),m(e,d,p)},p(e,[t]){8&t&&_(i,e[3]),8&t&&_(c,e[3]),e[2]?u?u.p(e,t):(u=Ze(e),u.c(),u.m(d.parentNode,d)):u&&(u.d(1),u=null)},i:e,o:e,d(e){e&&h(n),t[5](null),e&&h(r),u&&u.d(e),e&&h(d)}}}function et(e,t,n){let s,a;u(e,Te,(e=>n(11,s=e))),u(e,he,(e=>n(3,a=e)));let i,l,o,c,r="",d=0;F((()=>{n(2,l=Ce(s,"canWriteMOD")),o=requestAnimationFrame((function e(){i&&i.firstChild&&(c=i.firstChild.offsetWidth),d-=.5,-d>=c&&(d=0),i&&n(1,i.style.transform=`translateX(${d}px)`,i),o=requestAnimationFrame(e)}))})),R((()=>{cancelAnimationFrame(o)}));const p=()=>{r.trim().length>0&&(he.set(r),n(0,r=""))};return[r,i,l,a,p,function(e){q[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(){r=this.value,n(0,r)},e=>"message"===e.target.dataset.type&&"Enter"===e.key&&p()]}class tt extends ue{constructor(e){super(),de(this,e,et,Qe,l,{})}}function nt(e,t,n){const s=e.slice();return s[10]=t[n].id,s[11]=t[n].message,s[12]=t[n].date,s}function st(e,t){let n,s,i,l,o,c,r,d,u,p,f=t[11]+"",v=formatToLocalDateTime(t[12])+"";function x(){return t[8](t[10])}return{key:e,first:null,c(){n=b("li"),s=b("pre"),i=k(f),l=C(),o=b("span"),c=k(v),r=C(),d=C(),$(s,"class","announcement-message svelte-123soxf"),$(o,"class","date svelte-123soxf"),$(n,"class","svelte-123soxf"),this.first=n},m(e,a){m(e,n,a),g(n,s),g(s,i),g(n,l),g(n,o),g(o,c),g(n,r),g(n,d),u||(p=[y(n,"mouseenter",x),y(n,"mouseleave",t[9])],u=!0)},p(e,n){t=e,4&n&&f!==(f=t[11]+"")&&_(i,f),4&n&&v!==(v=formatToLocalDateTime(t[12])+"")&&_(c,v)},d(e){e&&h(n),u=!1,a(p)}}}function at(t){let n,s,a=[],i=new Map,l=t[2];const o=e=>e[10];for(let e=0;e<l.length;e+=1){let n=nt(t,l,e),s=o(n);i.set(s,a[e]=st(s,n))}return{c(){n=C(),s=b("ul");for(let e=0;e<a.length;e+=1)a[e].c();$(s,"class","announcement-list svelte-123soxf")},m(e,t){m(e,n,t),m(e,s,t);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(s,null)},p(e,[t]){6&t&&(l=e[2],a=ae(a,t,o,1,e,l,i,s,se,st,null,nt))},i:e,o:e,d(e){e&&h(n),e&&h(s);for(let e=0;e<a.length;e+=1)a[e].d()}}}function it(e,t,n){let s,a=ge([]);u(e,a,(e=>n(2,s=e)));let i="",l=null;function o(){i.trim(),0}F((()=>{fetch("https://syn_mdt/fetchAnnouncements",{method:"POST",headers:{"Content-Type":"application/json"}})})),window.addEventListener("message",(e=>{"receiveAnnouncements"===e.data.action&&a.set(e.data.data)}));return[i,l,s,a,o,function(){i=this.value,n(0,i)},e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),o())},e=>function(e){fetch("https://syn_mdt/removeAnnouncement",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})}(e),e=>n(1,l=e),()=>n(1,l=null)]}class lt extends ue{constructor(e){super(),de(this,e,it,at,l,{})}}function ot(e,t,n){const s=e.slice();return s[6]=t[n].id,s[7]=t[n].name,s}function ct(e,t){let n,s,i,l,o,c,r,d,u=t[7]+"";function p(){return t[4](t[6])}return{key:e,first:null,c(){n=b("li"),s=b("span"),i=b("span"),l=k(u),o=C(),c=C(),$(i,"class","name svelte-a013ty"),$(s,"class","name-button-container svelte-a013ty"),this.first=n},m(e,a){m(e,n,a),g(n,s),g(s,i),g(i,l),g(s,o),g(n,c),r||(d=[y(n,"mouseenter",p),y(n,"mouseleave",t[5])],r=!0)},p(e,n){t=e,2&n&&u!==(u=t[7]+"")&&_(l,u)},d(e){e&&h(n),r=!1,a(d)}}}function rt(t){let n,s,a,i,l,o=[],c=new Map,r=t[1];const d=e=>e[6];for(let e=0;e<r.length;e+=1){let n=ot(t,r,e),s=d(n);c.set(s,o[e]=ct(s,n))}return{c(){n=b("div"),s=b("label"),s.textContent="Wanted List",a=C(),i=b("div"),l=b("ul");for(let e=0;e<o.length;e+=1)o[e].c();$(s,"class","wanted-label svelte-a013ty"),$(l,"class","svelte-a013ty"),$(i,"id","wanted-list"),$(i,"class","svelte-a013ty"),$(n,"id","wanted-list-container"),$(n,"class","svelte-a013ty")},m(e,t){m(e,n,t),g(n,s),g(n,a),g(n,i),g(i,l);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(l,null)},p(e,[t]){3&t&&(r=e[1],o=ae(o,t,d,1,e,r,c,l,se,ct,null,ot))},i:e,o:e,d(e){e&&h(n);for(let e=0;e<o.length;e+=1)o[e].d()}}}function dt(e,t,n){let s,a=ge([]);u(e,a,(e=>n(1,s=e)));let i=null;F((()=>{fetch("https://syn_mdt/fetchWantedPlayers",{method:"POST",headers:{"Content-Type":"application/json"}})})),window.addEventListener("message",(e=>{"receiveWantedPlayers"===e.data.action&&a.set(e.data.data)}));return[i,s,a,e=>function(e){fetch("https://syn_mdt/removeWantedPlayer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})}(e),e=>n(0,i=e),()=>n(0,i=null)]}class ut extends ue{constructor(e){super(),de(this,e,dt,rt,l,{})}}function pt(t){let n,s,a,i,l,o,c,r,d=t[0].length+"",u=t[1].length+"";return{c(){n=b("p"),s=b("span"),s.textContent="🟢",a=C(),i=k(d),l=k("/"),o=k(u),c=C(),r=b("span"),r.textContent="🟥",$(s,"class","emoji svelte-a93u88"),$(r,"class","emoji svelte-a93u88"),$(n,"class","svelte-a93u88")},m(e,t){m(e,n,t),g(n,s),g(n,a),g(n,i),g(n,l),g(n,o),g(n,c),g(n,r)},p(e,[t]){1&t&&d!==(d=e[0].length+"")&&_(i,d),2&t&&u!==(u=e[1].length+"")&&_(o,u)},i:e,o:e,d(e){e&&h(n)}}}function ft(e,t,n){let s,a,i=ge([]);u(e,i,(e=>n(1,a=e)));let l=me(i,(e=>e.filter((e=>"On Duty"===e.status))));return u(e,l,(e=>n(0,s=e))),F((()=>{fetch("https://syn_mdt/fetchOfficerStatus",{method:"POST",headers:{"Content-Type":"application/json"}})})),window.addEventListener("message",(e=>{"receiveOfficerStatus"===e.data.action&&i.set(e.data.data)})),[s,a,i,l]}class gt extends ue{constructor(e){super(),de(this,e,ft,pt,l,{})}}function mt(t){let n,s,a,i,l,o,c,r,d;return n=new tt({}),i=new ut({}),o=new gt({}),r=new lt({}),{c(){oe(n.$$.fragment),s=C(),a=b("div"),oe(i.$$.fragment),l=C(),oe(o.$$.fragment),c=C(),oe(r.$$.fragment),$(a,"class","status-container svelte-h3vi87")},m(e,t){ce(n,e,t),m(e,s,t),m(e,a,t),ce(i,a,null),g(a,l),ce(o,a,null),m(e,c,t),ce(r,e,t),d=!0},p:e,i(e){d||(te(n.$$.fragment,e),te(i.$$.fragment,e),te(o.$$.fragment,e),te(r.$$.fragment,e),d=!0)},o(e){ne(n.$$.fragment,e),ne(i.$$.fragment,e),ne(o.$$.fragment,e),ne(r.$$.fragment,e),d=!1},d(e){re(n,e),e&&h(s),e&&h(a),re(i),re(o),e&&h(c),re(r,e)}}}const ht=ge([]),vt=ge({}),bt=ge([]),kt=ge([]),Ct=ge([]),xt=ge([]),yt=ge(0);function wt(e){ht.set(e)}function $t(e,t,n){const s=e.slice();return s[25]=t[n],s}function jt(e,t,n){const s=e.slice();return s[25]=t[n],s}function _t(e){let t,n,s,i,l,o,c,r,d,u,p,f,v,x,j,D,S,N,P,F,R,A,J,E,q,O,M,z,W,B,V,U,Y=e[3]?"Edit Law":"Create New Law",X=[],G=new Map,K=e[3]?"Save Changes":"Create Law",Z=e[0];const Q=e=>e[25].id;for(let t=0;t<Z.length;t+=1){let n=jt(e,Z,t),s=Q(n);G.set(s,X[t]=Tt(s,n))}return{c(){t=b("div"),n=b("h2"),s=k(Y),i=C(),l=b("form"),o=b("div"),c=b("label"),c.textContent="Title:",r=C(),d=b("input"),u=C(),p=b("div"),f=b("label"),f.textContent="Description:",v=C(),x=b("textarea"),j=C(),D=b("div"),S=b("label"),S.textContent="Is Parent Law:",N=C(),P=b("input"),F=C(),R=b("div"),A=b("label"),A.textContent="Parent Law ID:",J=C(),E=b("select"),q=b("option"),q.textContent="Select a Parent Law";for(let e=0;e<X.length;e+=1)X[e].c();O=C(),M=b("button"),z=k(K),W=C(),B=b("button"),B.textContent="Cancel",$(c,"for","title"),$(c,"class","svelte-13ljbn5"),$(d,"type","text"),$(d,"id","title"),$(d,"name","title"),$(d,"class","svelte-13ljbn5"),$(o,"class","form-group svelte-13ljbn5"),$(f,"for","description"),$(f,"class","svelte-13ljbn5"),$(x,"id","description"),$(x,"name","description"),$(x,"class","svelte-13ljbn5"),$(p,"class","form-group svelte-13ljbn5"),$(S,"for","isParent"),$(S,"class","svelte-13ljbn5"),$(P,"type","checkbox"),$(P,"id","isParent"),$(P,"name","isParent"),$(P,"class","svelte-13ljbn5"),$(D,"class","form-group svelte-13ljbn5"),$(A,"for","parentId"),$(A,"class","svelte-13ljbn5"),q.__value="",q.value=q.__value,$(E,"id","parentId"),$(E,"name","parentId"),$(E,"class","svelte-13ljbn5"),void 0===e[5].parentId&&H((()=>e[19].call(E))),$(R,"class","form-group svelte-13ljbn5"),L(R,"hide",e[5].isParent),$(M,"type","submit"),$(M,"class","submit-button svelte-13ljbn5"),$(B,"type","button"),$(B,"class","cancel-button svelte-13ljbn5"),$(t,"class","law-form svelte-13ljbn5")},m(a,h){m(a,t,h),g(t,n),g(n,s),g(t,i),g(t,l),g(l,o),g(o,c),g(o,r),g(o,d),I(d,e[5].title),g(l,u),g(l,p),g(p,f),g(p,v),g(p,x),I(x,e[5].description),g(l,j),g(l,D),g(D,S),g(D,N),g(D,P),P.checked=e[5].isParent,g(l,F),g(l,R),g(R,A),g(R,J),g(R,E),g(E,q);for(let e=0;e<X.length;e+=1)X[e]&&X[e].m(E,null);T(E,e[5].parentId,!0),g(l,O),g(l,M),g(M,z),g(l,W),g(l,B),V||(U=[y(d,"input",e[16]),y(d,"input",e[10]),y(x,"input",e[17]),y(x,"input",e[10]),y(P,"change",e[18]),y(E,"change",e[19]),y(E,"input",e[10]),y(B,"click",e[15]),y(l,"submit",w(e[12]))],V=!0)},p(e,t){8&t&&Y!==(Y=e[3]?"Edit Law":"Create New Law")&&_(s,Y),33&t&&d.value!==e[5].title&&I(d,e[5].title),33&t&&I(x,e[5].description),33&t&&(P.checked=e[5].isParent),33&t&&(Z=e[0],X=ae(X,t,Q,1,e,Z,G,E,se,Tt,null,jt)),33&t&&T(E,e[5].parentId),32&t&&L(R,"hide",e[5].isParent),8&t&&K!==(K=e[3]?"Save Changes":"Create Law")&&_(z,K)},d(e){e&&h(t);for(let e=0;e<X.length;e+=1)X[e].d();V=!1,a(U)}}}function It(e){let t,n,s,a=e[25].title+"";return{c(){t=b("option"),n=k(a),t.__value=s=e[25].id,t.value=t.__value},m(e,s){m(e,t,s),g(t,n)},p(e,i){1&i&&a!==(a=e[25].title+"")&&_(n,a),1&i&&s!==(s=e[25].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&h(t)}}}function Tt(e,t){let n,s,a=t[25].id!==t[5].id&&It(t);return{key:e,first:null,c(){n=x(),a&&a.c(),s=x(),this.first=n},m(e,t){m(e,n,t),a&&a.m(e,t),m(e,s,t)},p(e,n){(t=e)[25].id!==t[5].id?a?a.p(t,n):(a=It(t),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(e){e&&h(n),a&&a.d(e),e&&h(s)}}}function Dt(e){let t,n,s,i,l,o,c,r,d,u,p,f,v,x,w=e[25].title+"",j=e[25].description+"";function I(){return e[20](e[25])}function T(){return e[21](e[25])}return{c(){t=b("div"),n=b("h3"),s=k(w),i=C(),l=b("p"),o=k(j),c=C(),r=b("div"),d=b("button"),d.textContent="Edit",u=C(),p=b("button"),p.textContent="Delete",f=C(),$(n,"class","svelte-13ljbn5"),$(l,"class","description svelte-13ljbn5"),$(d,"class","action-button svelte-13ljbn5"),$(p,"class","action-button svelte-13ljbn5"),$(r,"class","law-actions svelte-13ljbn5"),$(t,"class","law-section svelte-13ljbn5")},m(e,a){m(e,t,a),g(t,n),g(n,s),g(t,i),g(t,l),g(l,o),g(t,c),g(t,r),g(r,d),g(r,u),g(r,p),g(t,f),v||(x=[y(d,"click",I),y(p,"click",T)],v=!0)},p(t,n){e=t,2&n&&w!==(w=e[25].title+"")&&_(s,w),2&n&&j!==(j=e[25].description+"")&&_(o,j)},d(e){e&&h(t),v=!1,a(x)}}}function Lt(t){let n,s,i,l,o,c,r,d,u,p,f,x,w,j,I,T,D,L,S,N,P,F,R=t[4]&&_t(t),A=t[1],J=[];for(let e=0;e<A.length;e+=1)J[e]=Dt($t(t,A,e));return{c(){n=b("div"),s=b("button"),s.textContent="Create New Law",i=C(),R&&R.c(),l=C(),o=b("div"),c=b("button"),r=k("Previous"),u=C(),p=b("span"),f=k("Page "),x=k(t[6]),w=k(" of "),j=k(t[2]),I=C(),T=b("button"),D=k("Next"),S=C(),N=b("div");for(let e=0;e<J.length;e+=1)J[e].c();$(s,"class","form-button svelte-13ljbn5"),c.disabled=d=1===t[6],$(c,"class","svelte-13ljbn5"),$(p,"class","svelte-13ljbn5"),T.disabled=L=t[6]===t[2],$(T,"class","svelte-13ljbn5"),$(o,"class","pagination svelte-13ljbn5"),$(N,"class","book-container svelte-13ljbn5"),$(n,"class","laws-container svelte-13ljbn5")},m(e,a){m(e,n,a),g(n,s),g(n,i),R&&R.m(n,null),g(n,l),g(n,o),g(o,c),g(c,r),g(o,u),g(o,p),g(p,f),g(p,x),g(p,w),g(p,j),g(o,I),g(o,T),g(T,D),g(n,S),g(n,N);for(let e=0;e<J.length;e+=1)J[e]&&J[e].m(N,null);P||(F=[y(s,"click",t[11]),y(c,"click",t[8]),y(T,"click",t[9])],P=!0)},p(e,[t]){if(e[4]?R?R.p(e,t):(R=_t(e),R.c(),R.m(n,l)):R&&(R.d(1),R=null),64&t&&d!==(d=1===e[6])&&(c.disabled=d),64&t&&_(x,e[6]),4&t&&_(j,e[2]),68&t&&L!==(L=e[6]===e[2])&&(T.disabled=L),24578&t){let n;for(A=e[1],n=0;n<A.length;n+=1){const s=$t(e,A,n);J[n]?J[n].p(s,t):(J[n]=Dt(s),J[n].c(),J[n].m(N,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=A.length}},i:e,o:e,d(e){e&&h(n),R&&R.d(),v(J,e),P=!1,a(F)}}}window.addEventListener("message",(function(e){switch(e.data.type){case"laws":wt(e.data.laws);break;case"law":l=e.data.law,vt.set(l);break;case"lawChildren":i=e.data.lawChildren,bt.set(i);break;case"lawParents":a=e.data.lawParents,kt.set(a);break;case"lawChildrenRecursive":s=e.data.lawChildrenRecursive,Ct.set(s);break;case"lawParentsRecursive":n=e.data.lawParentsRecursive,xt.set(n);break;case"totalLaws":t=e.data.totalLaws,yt.set(t)}var t,n,s,a,i,l}));function St(e,t,n){let s,a=ge(1);u(e,a,(e=>n(6,s=e)));let i=[],l=0,o=[],c=1,r=!1,d=!1,p={id:null,title:"",description:"",isParent:!0,parentId:null};function f(){const e=10*(s-1),t=e+10;n(1,o=i.slice(e,t))}function g(e){n(3,r=!0),n(5,p={...e}),n(4,d=!0)}function m(e){!function(e){console.log(ht),ht.subscribe((t=>{wt(t.filter((t=>t.id!==e)))}))}(e)}function h(){n(3,r=!1),n(4,d=!1),n(5,p={id:null,title:"",description:"",isParent:!0,parentId:null})}F((()=>{console.log(ht),ht.subscribe((e=>{0===e.length&&wt([{id:1,title:"Title 1",description:"Description 1",isParent:!0,parentId:null},{id:2,title:"Title 2",description:"Description 2",isParent:!1,parentId:1}])})),ht.subscribe((e=>{n(0,i=e),f()})),yt.subscribe((e=>{l=e,n(2,c=Math.ceil(l/10)),f()}))}));return[i,o,c,r,d,p,s,a,function(){s>1&&(a.update((e=>e-1)),f())},function(){s<c&&(a.update((e=>e+1)),f())},function(e){n(5,p[e.target.name]=e.target.value,p)},function(){h(),n(4,d=!0)},function(){var e,t,s,a,i;r?(e=p.id,t=p.title,s=p.description,a=p.isParent,i=p.parentId,console.log(ht),ht.update((n=>{const l=n.find((t=>t.id===e));return l&&(l.title=t,l.description=s,l.isParent=a,l.parentId=i),n}))):function(e,t,n,s){console.log(ht),ht.update((a=>{const i={id:a.length+1,title:e,description:t,isParent:n,parentId:s};return[...a,i]}))}(p.title,p.description,p.isParent,p.parentId),h(),n(4,d=!1)},g,m,h,function(){p.title=this.value,n(5,p),n(0,i)},function(){p.description=this.value,n(5,p),n(0,i)},function(){p.isParent=this.checked,n(5,p),n(0,i)},function(){p.parentId=D(this),n(5,p),n(0,i)},e=>g(e),e=>m(e.id)]}function Nt(e,t,n){const s=e.slice();return s[16]=t[n],s}function Pt(e){let t,n,s,a,i,l,o,c,r,d,u,p,f,v,x,w,j,I,T,D=e[16].name+"",L=e[16].id+"",S=e[16].po+"",N=e[16].rank+"",P=e[16].status+"";function F(){return e[14](e[16])}return{c(){t=b("tr"),n=b("td"),s=b("a"),a=k(D),i=C(),l=b("td"),o=k(L),c=C(),r=b("td"),d=k(S),u=C(),p=b("td"),f=k(N),v=C(),x=b("td"),w=k(P),j=C(),$(s,"href","javascript:void(0);"),$(s,"class","svelte-12lmkvj"),$(n,"class","svelte-12lmkvj"),$(l,"class","svelte-12lmkvj"),$(r,"class","svelte-12lmkvj"),$(p,"class","svelte-12lmkvj"),$(x,"class","svelte-12lmkvj"),$(t,"class","svelte-12lmkvj")},m(e,h){m(e,t,h),g(t,n),g(n,s),g(s,a),g(t,i),g(t,l),g(l,o),g(t,c),g(t,r),g(r,d),g(t,u),g(t,p),g(p,f),g(t,v),g(t,x),g(x,w),g(t,j),I||(T=y(s,"click",F),I=!0)},p(t,n){e=t,8&n&&D!==(D=e[16].name+"")&&_(a,D),8&n&&L!==(L=e[16].id+"")&&_(o,L),8&n&&S!==(S=e[16].po+"")&&_(d,S),8&n&&N!==(N=e[16].rank+"")&&_(f,N),8&n&&P!==(P=e[16].status+"")&&_(w,P)},d(e){e&&h(t),I=!1,T()}}}function Ft(t){let n,s,i,l,o,c,r,d,u,p,f,k,x,w,j,_,T,D,S,N,P,F,R=t[3],A=[];for(let e=0;e<R.length;e+=1)A[e]=Pt(Nt(t,R,e));return{c(){n=b("div"),s=b("input"),i=C(),l=b("div"),o=b("table"),c=b("thead"),r=b("tr"),d=b("th"),d.textContent="Name",u=C(),p=b("th"),p.textContent="ID",f=C(),k=b("th"),k.textContent="PO",x=C(),w=b("th"),w.textContent="Rank",j=C(),_=b("th"),_.textContent="Status",T=C(),D=b("div"),S=b("table"),N=b("tbody");for(let e=0;e<A.length;e+=1)A[e].c();$(s,"type","text"),$(s,"placeholder","Search Roster..."),$(s,"class","svelte-12lmkvj"),$(n,"class","search-container svelte-12lmkvj"),$(d,"class","svelte-12lmkvj"),L(d,"sorted-ascending","name"===t[1]&&"ascending"===t[0]),L(d,"sorted-descending","name"===t[1]&&"descending"===t[0]),L(d,"sorted-none","name"!==t[1]||"none"===t[0]),$(p,"class","svelte-12lmkvj"),L(p,"sorted-ascending","id"===t[1]&&"ascending"===t[0]),L(p,"sorted-descending","id"===t[1]&&"descending"===t[0]),L(p,"sorted-none","id"!==t[1]||"none"===t[0]),$(k,"class","svelte-12lmkvj"),L(k,"sorted-ascending","po"===t[1]&&"ascending"===t[0]),L(k,"sorted-descending","po"===t[1]&&"descending"===t[0]),L(k,"sorted-none","po"!==t[1]||"none"===t[0]),$(w,"class","svelte-12lmkvj"),L(w,"sorted-ascending","rank"===t[1]&&"ascending"===t[0]),L(w,"sorted-descending","rank"===t[1]&&"descending"===t[0]),L(w,"sorted-none","rank"!==t[1]||"none"===t[0]),$(_,"class","svelte-12lmkvj"),L(_,"sorted-ascending","status"===t[1]&&"ascending"===t[0]),L(_,"sorted-descending","status"===t[1]&&"descending"===t[0]),L(_,"sorted-none","status"!==t[1]||"none"===t[0]),$(o,"class","svelte-12lmkvj"),$(N,"class","svelte-12lmkvj"),$(S,"class","svelte-12lmkvj"),$(D,"class","tbody-scroll svelte-12lmkvj"),$(l,"class","table-container svelte-12lmkvj")},m(e,a){m(e,n,a),g(n,s),I(s,t[2]),m(e,i,a),m(e,l,a),g(l,o),g(o,c),g(c,r),g(r,d),g(r,u),g(r,p),g(r,f),g(r,k),g(r,x),g(r,w),g(r,j),g(r,_),g(l,T),g(l,D),g(D,S),g(S,N);for(let e=0;e<A.length;e+=1)A[e]&&A[e].m(N,null);P||(F=[y(s,"input",t[8]),y(d,"click",t[9]),y(p,"click",t[10]),y(k,"click",t[11]),y(w,"click",t[12]),y(_,"click",t[13])],P=!0)},p(e,[t]){if(4&t&&s.value!==e[2]&&I(s,e[2]),3&t&&L(d,"sorted-ascending","name"===e[1]&&"ascending"===e[0]),3&t&&L(d,"sorted-descending","name"===e[1]&&"descending"===e[0]),3&t&&L(d,"sorted-none","name"!==e[1]||"none"===e[0]),3&t&&L(p,"sorted-ascending","id"===e[1]&&"ascending"===e[0]),3&t&&L(p,"sorted-descending","id"===e[1]&&"descending"===e[0]),3&t&&L(p,"sorted-none","id"!==e[1]||"none"===e[0]),3&t&&L(k,"sorted-ascending","po"===e[1]&&"ascending"===e[0]),3&t&&L(k,"sorted-descending","po"===e[1]&&"descending"===e[0]),3&t&&L(k,"sorted-none","po"!==e[1]||"none"===e[0]),3&t&&L(w,"sorted-ascending","rank"===e[1]&&"ascending"===e[0]),3&t&&L(w,"sorted-descending","rank"===e[1]&&"descending"===e[0]),3&t&&L(w,"sorted-none","rank"!==e[1]||"none"===e[0]),3&t&&L(_,"sorted-ascending","status"===e[1]&&"ascending"===e[0]),3&t&&L(_,"sorted-descending","status"===e[1]&&"descending"===e[0]),3&t&&L(_,"sorted-none","status"!==e[1]||"none"===e[0]),40&t){let n;for(R=e[3],n=0;n<R.length;n+=1){const s=Nt(e,R,n);A[n]?A[n].p(s,t):(A[n]=Pt(s),A[n].c(),A[n].m(N,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=R.length}},i:e,o:e,d(e){e&&h(n),e&&h(i),e&&h(l),v(A,e),P=!1,a(F)}}}function Rt(e,t,n){let s,a;const i=ge(ve);let l="none",o=null;const c=ge("");function r(e){console.log("Navigating to profile for officer ID:",e),Ee(`/rosterProfiles/${e}`)}u(e,c,(e=>n(2,s=e)));const d=me([i,c],(([e,t])=>e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())||e.id.toString().includes(t)||e.po.toString().includes(t)||e.rank.toString().includes(t)||e.status.toLowerCase().includes(t.toLowerCase())))));function p(e){console.log(`Previous sort order: ${l}, column: ${o}`),o===e?"ascending"===l?n(0,l="descending"):"descending"===l?n(0,l="none"):"none"===l&&n(0,l="ascending"):(n(1,o=e),n(0,l="ascending")),"none"===l?(n(1,o=null),i.set([...ve])):i.update((e=>we([...e],o,l)))}u(e,d,(e=>n(3,a=e)));return[l,o,s,a,c,r,d,p,function(){s=this.value,c.set(s)},()=>p("name"),()=>p("id"),()=>p("po"),()=>p("rank"),()=>p("status"),e=>r(e.id)]}function At(t){let n;return{c(){n=b("p"),n.textContent="Loading profile...",$(n,"class","svelte-1p1063f")},m(e,t){m(e,n,t)},p:e,d(e){e&&h(n)}}}function Jt(e){let t,n,s,i,l,o,c,r,d,u,p,f,v,x,w,j,T,D,L,S,N,P,F,R,A,J,E,q,O,M,z,W,B,V,H,U,Y,X,G,K,Z,Q,ee,te,ne,se,ae,ie,le,oe,ce,re,de,ue,pe,fe,ge,me,he,ve,be,ke,Ce,xe,ye,we,$e,je,_e,Ie,Te,De,Le,Se,Ne,Pe,Fe,Re,Ae,Je,Ee,qe=e[1].name+"",Oe=e[1].id+"",Me=e[1].lastactive+"",ze=e[1].po+"",We=e[1].totalduty+"",Be=e[1].totalReports+"",Ve=e[0]&&Et(e);return{c(){t=b("div"),n=b("div"),s=b("label"),s.textContent="Name:",i=C(),l=b("p"),o=k(qe),c=C(),r=b("div"),d=b("label"),d.textContent="ID:",u=C(),p=b("p"),f=k(Oe),v=C(),x=b("div"),w=b("label"),w.textContent="Last Clock-in:",j=C(),T=b("p"),D=k(Me),L=C(),S=b("div"),N=b("label"),N.textContent="PO:",P=C(),F=b("p"),R=k(ze),A=C(),J=b("div"),E=b("label"),E.textContent="Duty Hours:",q=C(),O=b("p"),M=k(We),z=C(),W=b("div"),B=b("label"),B.textContent="Discord:",V=C(),H=b("input"),Y=C(),X=b("div"),G=b("label"),G.textContent="region:",K=C(),Z=b("input"),ee=C(),te=b("div"),ne=b("label"),ne.textContent="Timezone:",se=C(),ae=b("input"),le=C(),oe=b("div"),ce=b("label"),ce.textContent="Total Reports:",re=C(),de=b("p"),ue=k(Be),pe=C(),fe=b("div"),ge=b("label"),ge.textContent="Training:",me=C(),he=b("textarea"),be=C(),ke=b("div"),Ce=b("label"),Ce.textContent="Disciplinaries:",xe=C(),ye=b("textarea"),$e=C(),je=b("div"),_e=b("label"),_e.textContent="Achievements:",Ie=C(),Te=b("textarea"),Le=C(),Se=b("div"),Ne=b("label"),Ne.textContent="Notes:",Pe=C(),Fe=b("textarea"),Ae=C(),Ve&&Ve.c(),$(l,"class","svelte-1p1063f"),$(n,"class","view-group single-column svelte-1p1063f"),$(p,"class","svelte-1p1063f"),$(r,"class","view-group single-column svelte-1p1063f"),$(T,"class","svelte-1p1063f"),$(x,"class","view-group single-column svelte-1p1063f"),$(F,"class","svelte-1p1063f"),$(S,"class","view-group single-column svelte-1p1063f"),$(O,"class","svelte-1p1063f"),$(J,"class","view-group single-column svelte-1p1063f"),$(B,"for","discord"),$(H,"type","text"),$(H,"id","discord"),H.disabled=U=!e[0],$(H,"class","svelte-1p1063f"),$(W,"class","view-group single-column svelte-1p1063f"),$(G,"for","region"),$(Z,"type","text"),$(Z,"id","region"),Z.disabled=Q=!e[0],$(Z,"class","svelte-1p1063f"),$(X,"class","view-group single-column svelte-1p1063f"),$(ne,"for","timezone"),$(ae,"type","text"),$(ae,"id","timezone"),ae.disabled=ie=!e[0],$(ae,"class","svelte-1p1063f"),$(te,"class","view-group single-column svelte-1p1063f"),$(de,"class","svelte-1p1063f"),$(oe,"class","view-group single-column svelte-1p1063f"),$(ge,"for","training"),$(he,"id","training"),he.disabled=ve=!e[0],$(he,"class","svelte-1p1063f"),$(fe,"class","textarea-group full-width svelte-1p1063f"),$(Ce,"for","disciplinaries"),$(ye,"id","disciplinaries"),ye.disabled=we=!e[0],$(ye,"class","svelte-1p1063f"),$(ke,"class","textarea-group full-width svelte-1p1063f"),$(_e,"for","achievements"),$(Te,"id","achievements"),Te.disabled=De=!e[0],$(Te,"class","svelte-1p1063f"),$(je,"class","textarea-group full-width svelte-1p1063f"),$(Ne,"for","notes"),$(Fe,"id","notes"),Fe.disabled=Re=!e[0],$(Fe,"class","svelte-1p1063f"),$(Se,"class","textarea-group full-width svelte-1p1063f"),$(t,"class","profile-container svelte-1p1063f")},m(a,h){m(a,t,h),g(t,n),g(n,s),g(n,i),g(n,l),g(l,o),g(t,c),g(t,r),g(r,d),g(r,u),g(r,p),g(p,f),g(t,v),g(t,x),g(x,w),g(x,j),g(x,T),g(T,D),g(t,L),g(t,S),g(S,N),g(S,P),g(S,F),g(F,R),g(t,A),g(t,J),g(J,E),g(J,q),g(J,O),g(O,M),g(t,z),g(t,W),g(W,B),g(W,V),g(W,H),I(H,e[1].discord),g(t,Y),g(t,X),g(X,G),g(X,K),g(X,Z),I(Z,e[1].region),g(t,ee),g(t,te),g(te,ne),g(te,se),g(te,ae),I(ae,e[1].timezone),g(t,le),g(t,oe),g(oe,ce),g(oe,re),g(oe,de),g(de,ue),g(t,pe),g(t,fe),g(fe,ge),g(fe,me),g(fe,he),I(he,e[1].training),g(t,be),g(t,ke),g(ke,Ce),g(ke,xe),g(ke,ye),I(ye,e[1].disciplinaries),g(t,$e),g(t,je),g(je,_e),g(je,Ie),g(je,Te),I(Te,e[1].achievements),g(t,Le),g(t,Se),g(Se,Ne),g(Se,Pe),g(Se,Fe),I(Fe,e[1].notes),g(t,Ae),Ve&&Ve.m(t,null),Je||(Ee=[y(H,"input",e[6]),y(Z,"input",e[7]),y(ae,"input",e[8]),y(he,"input",e[9]),y(ye,"input",e[10]),y(Te,"input",e[11]),y(Fe,"input",e[12])],Je=!0)},p(e,n){2&n&&qe!==(qe=e[1].name+"")&&_(o,qe),2&n&&Oe!==(Oe=e[1].id+"")&&_(f,Oe),2&n&&Me!==(Me=e[1].lastactive+"")&&_(D,Me),2&n&&ze!==(ze=e[1].po+"")&&_(R,ze),2&n&&We!==(We=e[1].totalduty+"")&&_(M,We),1&n&&U!==(U=!e[0])&&(H.disabled=U),2&n&&H.value!==e[1].discord&&I(H,e[1].discord),1&n&&Q!==(Q=!e[0])&&(Z.disabled=Q),2&n&&Z.value!==e[1].region&&I(Z,e[1].region),1&n&&ie!==(ie=!e[0])&&(ae.disabled=ie),2&n&&ae.value!==e[1].timezone&&I(ae,e[1].timezone),2&n&&Be!==(Be=e[1].totalReports+"")&&_(ue,Be),1&n&&ve!==(ve=!e[0])&&(he.disabled=ve),2&n&&I(he,e[1].training),1&n&&we!==(we=!e[0])&&(ye.disabled=we),2&n&&I(ye,e[1].disciplinaries),1&n&&De!==(De=!e[0])&&(Te.disabled=De),2&n&&I(Te,e[1].achievements),1&n&&Re!==(Re=!e[0])&&(Fe.disabled=Re),2&n&&I(Fe,e[1].notes),e[0]?Ve?Ve.p(e,n):(Ve=Et(e),Ve.c(),Ve.m(t,null)):Ve&&(Ve.d(1),Ve=null)},d(e){e&&h(t),Ve&&Ve.d(),Je=!1,a(Ee)}}}function Et(t){let n,s,a;return{c(){n=b("button"),n.textContent="Save",$(n,"class","save-button svelte-1p1063f")},m(e,i){m(e,n,i),s||(a=y(n,"click",t[3]),s=!0)},p:e,d(e){e&&h(n),s=!1,a()}}}function qt(t){let n;function s(e,t){return e[1]&&e[1].id?Jt:At}let a=s(t),i=a(t);return{c(){i.c(),n=x()},m(e,t){i.m(e,t),m(e,n,t)},p(e,[t]){a===(a=s(e))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&h(n)}}}function Ot(e,t,n){let s,a,i,l;u(e,Te,(e=>n(4,i=e))),u(e,Je,(e=>n(5,l=e)));const o=ge({});return u(e,o,(e=>n(1,a=e))),e.$$.update=()=>{if(32&e.$$.dirty)if(l&&l.id){const e=l.id,t=ve.find((t=>t.id===e));t?o.set(t):console.error("Profile not found for ID:",e)}else console.error("No officer ID provided in params");16&e.$$.dirty&&n(0,s=i&&Ce(i,"canEditPoliceRoster"))},[s,a,o,function(){console.log("Profile data saved:",a)},i,l,function(){a.discord=this.value,o.set(a)},function(){a.region=this.value,o.set(a)},function(){a.timezone=this.value,o.set(a)},function(){a.training=this.value,o.set(a)},function(){a.disciplinaries=this.value,o.set(a)},function(){a.achievements=this.value,o.set(a)},function(){a.notes=this.value,o.set(a)}]}const Mt=ge([]),zt=ge({}),Wt=ge(0);function Bt(e){Mt.set(e)}function Vt(){Mt.subscribe((e=>{0===e.length&&Bt([{id:1,title:"Test Alert",description:"This is a test alert",date:"2021-01-01",status:"Active",responders:[1,2,3]},{id:2,title:"Test Alert 2",description:"This is a test alert 2",date:"2021-01-01",status:"Active",responders:[1,2,3]}])})),Wt.set(2)}function Ht(e,t,n){const s=e.slice();return s[33]=t[n],s}function Ut(e,t,n){const s=e.slice();return s[36]=t[n],s}function Yt(t){let n;return{c(){n=b("button"),$(n,"class","action-button hidden svelte-1jlm235")},m(e,t){m(e,n,t)},p:e,d(e){e&&h(n)}}}function Xt(e){let t,n,s,a,i=e[36].responders.includes(Ie)?"Leave":"Join";function l(){return e[22](e[36])}return{c(){t=b("button"),n=k(i),$(t,"class","action-button svelte-1jlm235")},m(e,i){m(e,t,i),g(t,n),s||(a=y(t,"click",l),s=!0)},p(t,s){e=t,16&s[0]&&i!==(i=e[36].responders.includes(Ie)?"Leave":"Join")&&_(n,i)},d(e){e&&h(t),s=!1,a()}}}function Gt(e){let t,n,s,i,l,o,c,r,d,u,p,f,v,x,w,j,I,T=ye(e[36].date)+"",D=e[36].title+"",L="Active"===e[36].status?"🟢":"⚪️",S=e[36].responders.sort().join(", ")+"";function N(){return e[20](e[36])}function P(){return e[21](e[36])}function F(e,t){return"Active"===e[36].status?Xt:Yt}let R=F(e),A=R(e);return{c(){t=b("tr"),n=b("td"),s=k(T),i=C(),l=b("td"),o=k(D),c=C(),r=b("td"),d=k(L),u=C(),p=b("td"),f=k(S),v=C(),x=b("td"),A.c(),w=C(),$(n,"class","svelte-1jlm235"),$(l,"class","title-column svelte-1jlm235"),$(r,"class","midalign-column status-action svelte-1jlm235"),$(p,"class","midalign-column svelte-1jlm235"),$(x,"class","midalign-column action-column svelte-1jlm235")},m(e,a){m(e,t,a),g(t,n),g(n,s),g(t,i),g(t,l),g(l,o),g(t,c),g(t,r),g(r,d),g(t,u),g(t,p),g(p,f),g(t,v),g(t,x),A.m(x,null),g(t,w),j||(I=[y(l,"click",N),y(r,"click",P)],j=!0)},p(t,n){e=t,16&n[0]&&T!==(T=ye(e[36].date)+"")&&_(s,T),16&n[0]&&D!==(D=e[36].title+"")&&_(o,D),16&n[0]&&L!==(L="Active"===e[36].status?"🟢":"⚪️")&&_(d,L),16&n[0]&&S!==(S=e[36].responders.sort().join(", ")+"")&&_(f,S),R===(R=F(e))&&A?A.p(e,n):(A.d(1),A=R(e),A&&(A.c(),A.m(x,null)))},d(e){e&&h(t),A.d(),j=!1,a(I)}}}function Kt(e){let t,n,s,a,i=e[33]+"";function l(){return e[27](e[33])}return{c(){t=b("button"),n=k(i),$(t,"class","svelte-1jlm235"),L(t,"active",e[33]===e[0])},m(e,i){m(e,t,i),g(t,n),s||(a=y(t,"click",l),s=!0)},p(s,a){e=s,9&a[0]&&i!==(i=e[33]+"")&&_(n,i),9&a[0]&&L(t,"active",e[33]===e[0])},d(e){e&&h(t),s=!1,a()}}}function Zt(e){let t;function n(e,t){return e[5]?en:Qt}let s=n(e),a=s(e);return{c(){a.c(),t=x()},m(e,n){a.m(e,n),m(e,t,n)},p(e,i){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},d(e){a.d(e),e&&h(t)}}}function Qt(t){let n,s,a;return{c(){n=b("button"),n.textContent="...",$(n,"class","svelte-1jlm235")},m(e,i){m(e,n,i),s||(a=y(n,"click",t[10]),s=!0)},p:e,d(e){e&&h(n),s=!1,a()}}}function en(e){let t,n,s,i,l;return{c(){t=b("input"),n=C(),s=b("button"),s.textContent="Go",$(t,"type","number"),$(t,"min","1"),$(t,"max",e[3]),$(t,"class","svelte-1jlm235"),$(s,"class","svelte-1jlm235")},m(a,o){m(a,t,o),I(t,e[6]),m(a,n,o),m(a,s,o),i||(l=[y(t,"input",e[25]),y(t,"input",e[26]),y(s,"click",e[11])],i=!0)},p(e,n){8&n[0]&&$(t,"max",e[3]),64&n[0]&&j(t.value)!==e[6]&&I(t,e[6])},d(e){e&&h(t),e&&h(n),e&&h(s),i=!1,a(l)}}}function tn(e){let t;function n(e,t){return"..."===e[33]?Zt:Kt}let s=n(e),a=s(e);return{c(){a.c(),t=x()},m(e,n){a.m(e,n),m(e,t,n)},p(e,i){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},d(e){a.d(e),e&&h(t)}}}function nn(t){let n,s,i,l,o,c,r,d,u,p,f,x,w,j,_,T,D,S,N,P,F,R,A,J,E,q,O,M,z,W,B,V,H,U,Y,X,G,K,Z,Q,ee=t[4],te=[];for(let e=0;e<ee.length;e+=1)te[e]=Gt(Ut(t,ee,e));let ne=je(t[0],t[3],2),se=[];for(let e=0;e<ne.length;e+=1)se[e]=tn(Ht(t,ne,e));return{c(){n=b("div"),s=b("input"),i=C(),l=b("div"),o=b("table"),c=b("thead"),r=b("tr"),d=b("th"),d.textContent="Date",u=C(),p=b("th"),p.textContent="Title",f=C(),x=b("th"),x.textContent="Status",w=C(),j=b("th"),j.textContent="Responders",_=C(),T=b("th"),T.textContent="Action",D=C(),S=b("div"),N=b("table"),P=b("tbody");for(let e=0;e<te.length;e+=1)te[e].c();F=C(),R=b("div"),A=b("button"),J=k("First"),q=C(),O=b("button"),M=k("Prev"),W=C();for(let e=0;e<se.length;e+=1)se[e].c();B=C(),V=b("button"),H=k("Next"),Y=C(),X=b("button"),G=k("Last"),$(s,"type","text"),$(s,"placeholder","Search alerts..."),$(s,"class","svelte-1jlm235"),$(n,"class","search-container svelte-1jlm235"),$(d,"class","svelte-1jlm235"),L(d,"sorted-ascending","date"===t[2]&&"ascending"===t[1]),L(d,"sorted-descending","date"===t[2]&&"descending"===t[1]),L(d,"sorted-none","date"!==t[2]||"none"===t[1]),$(p,"class","svelte-1jlm235"),L(p,"sorted-ascending","title"===t[2]&&"ascending"===t[1]),L(p,"sorted-descending","title"===t[2]&&"descending"===t[1]),L(p,"sorted-none","title"!==t[2]||"none"===t[1]),$(x,"class","svelte-1jlm235"),$(j,"class","svelte-1jlm235"),$(T,"class","svelte-1jlm235"),$(o,"class","svelte-1jlm235"),$(l,"class","table-container svelte-1jlm235"),$(N,"class","svelte-1jlm235"),$(S,"class","tbody svelte-1jlm235"),A.disabled=E=1===t[0],$(A,"class","svelte-1jlm235"),O.disabled=z=1===t[0],$(O,"class","svelte-1jlm235"),V.disabled=U=t[0]===t[3],$(V,"class","svelte-1jlm235"),X.disabled=K=t[0]===t[3],$(X,"class","svelte-1jlm235"),$(R,"class","pagination svelte-1jlm235")},m(e,a){m(e,n,a),g(n,s),I(s,t[7]),m(e,i,a),m(e,l,a),g(l,o),g(o,c),g(c,r),g(r,d),g(r,u),g(r,p),g(r,f),g(r,x),g(r,w),g(r,j),g(r,_),g(r,T),m(e,D,a),m(e,S,a),g(S,N),g(N,P);for(let e=0;e<te.length;e+=1)te[e]&&te[e].m(P,null);m(e,F,a),m(e,R,a),g(R,A),g(A,J),g(R,q),g(R,O),g(O,M),g(R,W);for(let e=0;e<se.length;e+=1)se[e]&&se[e].m(R,null);g(R,B),g(R,V),g(V,H),g(R,Y),g(R,X),g(X,G),Z||(Q=[y(s,"input",t[17]),y(d,"click",t[18]),y(p,"click",t[19]),y(A,"click",t[23]),y(O,"click",t[24]),y(V,"click",t[28]),y(X,"click",t[29])],Z=!0)},p(e,t){if(128&t[0]&&s.value!==e[7]&&I(s,e[7]),6&t[0]&&L(d,"sorted-ascending","date"===e[2]&&"ascending"===e[1]),6&t[0]&&L(d,"sorted-descending","date"===e[2]&&"descending"===e[1]),6&t[0]&&L(d,"sorted-none","date"!==e[2]||"none"===e[1]),6&t[0]&&L(p,"sorted-ascending","title"===e[2]&&"ascending"===e[1]),6&t[0]&&L(p,"sorted-descending","title"===e[2]&&"descending"===e[1]),6&t[0]&&L(p,"sorted-none","title"!==e[2]||"none"===e[1]),57360&t[0]){let n;for(ee=e[4],n=0;n<ee.length;n+=1){const s=Ut(e,ee,n);te[n]?te[n].p(s,t):(te[n]=Gt(s),te[n].c(),te[n].m(P,null))}for(;n<te.length;n+=1)te[n].d(1);te.length=ee.length}if(1&t[0]&&E!==(E=1===e[0])&&(A.disabled=E),1&t[0]&&z!==(z=1===e[0])&&(O.disabled=z),3689&t[0]){let n;for(ne=je(e[0],e[3],2),n=0;n<ne.length;n+=1){const s=Ht(e,ne,n);se[n]?se[n].p(s,t):(se[n]=tn(s),se[n].c(),se[n].m(R,B))}for(;n<se.length;n+=1)se[n].d(1);se.length=ne.length}9&t[0]&&U!==(U=e[0]===e[3])&&(V.disabled=U),9&t[0]&&K!==(K=e[0]===e[3])&&(X.disabled=K)},i:e,o:e,d(e){e&&h(n),e&&h(i),e&&h(l),e&&h(D),e&&h(S),v(te,e),e&&h(F),e&&h(R),v(se,e),Z=!1,a(Q)}}}function sn(e,t,n){let s,a,i;u(e,Mt,(e=>n(16,s=e))),u(e,Te,(e=>n(30,a=e)));let l="none",o=null;const c=ge("");u(e,c,(e=>n(7,i=e)));const r=ge(Mt);let d=1,p=De.maxBlocksPerPage||10,f=ge(0),g=[],m=!1,h=d;function v(e){e>0&&e<=f&&(n(0,d=e),n(4,g=$e(s,d,p).paginatedItems))}function b(e){o===e?n(1,l="ascending"===l?"descending":"descending"===l?"none":"ascending"):(n(2,o=e),n(1,l="ascending")),"none"===l?(n(2,o=null),r.set([...s])):r.update((e=>we([...e],o,l)))}function k(e){a&&Ce(a,"disableAlert")?(console.log("Alerts: ",s),function(e){Mt.update((t=>(t.forEach((t=>{t.id===e&&(t.status="Active"===t.status?"Inactive":"Active")})),t)))}(e),console.log("Alerts: ",s),console.log("Alerts: ",s)):console.log("User does not have permission to disable alerts.")}function C(e){Ee(`/alert/${e}`)}function x(e){!function(e,t){Mt.update((n=>(n.forEach((n=>{n.id===e&&(n.responders.includes(t)?n.responders=n.responders.filter((e=>e!==t)):n.responders.push(t))})),n)))}(e,Ie)}F((()=>{Vt()}));return e.$$.update=()=>{65537&e.$$.dirty[0]&&n(4,g=$e(s,d,p).paginatedItems),65536&e.$$.dirty[0]&&n(3,f=Math.ceil(s.length/p))},[d,l,o,f,g,m,h,i,c,v,function(){n(5,m=!m),n(6,h=d)},function(){const e=parseInt(h);e>0&&e<=f&&(v(e),n(5,m=!1))},b,k,C,x,s,function(){i=this.value,c.set(i)},()=>b("date"),()=>b("title"),e=>C(e.id),e=>k(e.id),e=>x(e.id),()=>v(1),()=>v(d-1),function(){h=j(this.value),n(6,h)},e=>n(6,h=e.target.value),e=>v(e),()=>v(d+1),()=>v(f)]}window.addEventListener("message",(function(e){switch(e.data.type){case"receiveAlerts":Bt(e.data.alerts);break;case"receiveAlert":n=e.data.alert,zt.set(n);break;case"receiveTotalAlerts":t=e.data.totalAlerts,Wt.set(t)}var t,n}));function an(e,t,n){const s=e.slice();return s[6]=t[n],s}function ln(t){let n;return{c(){n=b("p"),n.textContent="No alert data found."},m(e,t){m(e,n,t)},p:e,d(e){e&&h(n)}}}function on(e){let t,n,s,a,i,l,o,c,r,d,u,p,f,x,y,w,j,I=e[0].title+"",T=e[0].description+"",D=xe(e[0].date)+"",L=e[0].status+"",S=e[1],N=[];for(let t=0;t<S.length;t+=1)N[t]=cn(an(e,S,t));return{c(){t=b("h2"),n=k(I),s=C(),a=b("p"),i=k(T),l=C(),o=b("p"),c=k("Date: "),r=k(D),d=C(),u=b("p"),p=k("Status: "),f=k(L),x=C(),y=b("h3"),y.textContent="Responders",w=C(),j=b("ul");for(let e=0;e<N.length;e+=1)N[e].c();$(j,"class","responders-list svelte-pwiwuy")},m(e,h){m(e,t,h),g(t,n),m(e,s,h),m(e,a,h),g(a,i),m(e,l,h),m(e,o,h),g(o,c),g(o,r),m(e,d,h),m(e,u,h),g(u,p),g(u,f),m(e,x,h),m(e,y,h),m(e,w,h),m(e,j,h);for(let e=0;e<N.length;e+=1)N[e]&&N[e].m(j,null)},p(e,t){if(1&t&&I!==(I=e[0].title+"")&&_(n,I),1&t&&T!==(T=e[0].description+"")&&_(i,T),1&t&&D!==(D=xe(e[0].date)+"")&&_(r,D),1&t&&L!==(L=e[0].status+"")&&_(f,L),2&t){let n;for(S=e[1],n=0;n<S.length;n+=1){const s=an(e,S,n);N[n]?N[n].p(s,t):(N[n]=cn(s),N[n].c(),N[n].m(j,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=S.length}},d(e){e&&h(t),e&&h(s),e&&h(a),e&&h(l),e&&h(o),e&&h(d),e&&h(u),e&&h(x),e&&h(y),e&&h(w),e&&h(j),v(N,e)}}}function cn(e){let t,n,s,a,i,l,o=e[6].name+"",c=e[6].rank+"";return{c(){t=b("li"),n=k("Name: "),s=k(o),a=k(", Rank: "),i=k(c),l=C(),$(t,"class","responder-item svelte-pwiwuy")},m(e,o){m(e,t,o),g(t,n),g(t,s),g(t,a),g(t,i),g(t,l)},p(e,t){2&t&&o!==(o=e[6].name+"")&&_(s,o),2&t&&c!==(c=e[6].rank+"")&&_(i,c)},d(e){e&&h(t)}}}function rn(t){let n,s,a;let i=function(e){return e[2]?on:ln}(t),l=i(t);return{c(){n=b("div"),s=b("h1"),s.textContent="Alert Details",a=C(),l.c(),$(n,"class","alert-card svelte-pwiwuy")},m(e,t){m(e,n,t),g(n,s),g(n,a),l.m(n,null)},p(e,[t]){l.p(e,t)},i:e,o:e,d(e){e&&h(n),l.d()}}}function dn(e,t,n){let s,a,i;u(e,zt,(e=>n(5,s=e)));let{params:l={}}=t,o=ge({});u(e,o,(e=>n(0,a=e)));let c=ge([]);return u(e,c,(e=>n(1,i=e))),F((()=>{const e=parseInt(l.alertId,10);zt.set({id:1,title:"Test Alert",description:"This is a test alert",date:"2021-01-01",status:"Active",responders:[1,2,3]}),s?(o.set(s),o.subscribe((e=>{c.set(e.responders)}))):console.error("Alert not found for ID:",e)})),e.$$set=e=>{"params"in e&&n(4,l=e.params)},[a,i,o,c,l]}const un=[{id:1,suspectId:1,suspectName:"John Doe",reportTitle:"Speeding",reportDescription:"Speeding on the highway",location:"Route 68",itemsConfiscated:"None",jailTime:0,originalFine:100,reducedFine:100,fineReduction:"None",station:"Mission Row PD",arrestingLawmenId:2,arrestingLawmenName:"Jane Doe",dateTime:"2021-09-01 12:00:00"},{id:2,suspectId:2,suspectName:"Jane Doe",reportTitle:"Reckless Driving",reportDescription:"Reckless driving in the city",location:"Vinewood Boulevard",itemsConfiscated:"None",jailTime:0,originalFine:200,reducedFine:200,fineReduction:"None",station:"Mission Row PD",arrestingLawmenId:1,arrestingLawmenName:"John Doe",dateTime:"2021-09-01 12:00:00"}],pn=[{id:1,suspectId:1,suspectName:"John Doe",suspectJob:"Unemployed",reportTitle:"Speeding",reportDescription:"Speeding on the highway",location:"Route 68",itemsConfiscated:"None",jailTime:0,originalFine:100,reducedFine:100,fineReduction:"None",station:"Mission Row PD",arrestingLawmenId:2,arrestingLawmenName:"Jane Doe",dateTime:"2021-09-01 12:00:00"},{id:2,suspectId:1,suspectName:"John Doe",suspectJob:"Unemployed",reportTitle:"Reckless Driving",reportDescription:"Reckless driving in the city",location:"Vinewood Boulevard",itemsConfiscated:"None",jailTime:0,originalFine:200,reducedFine:200,fineReduction:"None",station:"Mission Row PD",arrestingLawmenId:1,arrestingLawmenName:"Jane Doe",dateTime:"2021-09-01 12:00:00"}],fn=ge(un),gn=ge({}),mn=ge(pn),hn=ge(0);function vn(e){fn.set(e)}function bn(e){gn.set(e)}function kn(e){mn.set(e)}function Cn(e){hn.set(e)}function xn(e){fn.subscribe((e=>{0===e.length&&vn([{id:1,suspectId:1,suspectName:"John Doe",suspectJob:"Unemployed",reportTitle:"Speeding",reportDescription:"Speeding on the highway",location:"Route 68",itemsConfiscated:"None",jailTime:0,originalFine:100,reducedFine:100,fineReduction:"None",station:"Mission Row PD",arrestingLawmenId:2,arrestingLawmenName:"Jane Doe",dateTime:"2021-09-01 12:00:00"},{id:2,suspectId:2,suspectName:"Jane Doe",suspectJob:"Unemployed",reportTitle:"Reckless Driving",reportDescription:"Reckless driving in the city",location:"Vinewood Boulevard",itemsConfiscated:"None",jailTime:0,originalFine:200,reducedFine:200,fineReduction:"None",station:"Mission Row PD",arrestingLawmenId:1,arrestingLawmenName:"John Doe",dateTime:"2021-09-01 12:00:00"}])})),Cn(Math.ceil(un.length/1))}function yn(e){kn(pn),function(e){{let t=pn.filter((t=>t.suspectId===e));Cn(Math.ceil(t.length/1))}}(e)}function wn(e,t,n){const s=e.slice();return s[22]=t[n],s}function $n(e,t,n){const s=e.slice();return s[25]=t[n],s}function jn(e){let t,n,s,a,i,l,o,c,r,d,u,p,f,v,x,w=e[25].dateTime+"",j=e[25].id+"",I=e[25].suspectName+"",T=e[25].arrestingLawmenName+"";function D(){return e[15](e[25])}return{c(){t=b("tr"),n=b("td"),s=k(w),a=C(),i=b("td"),l=k(j),o=C(),c=b("td"),r=k(I),d=C(),u=b("td"),p=k(T),f=C(),$(n,"class","svelte-489zah"),$(i,"class","svelte-489zah"),$(c,"class","svelte-489zah"),$(u,"class","svelte-489zah"),$(t,"class","svelte-489zah")},m(e,h){m(e,t,h),g(t,n),g(n,s),g(t,a),g(t,i),g(i,l),g(t,o),g(t,c),g(c,r),g(t,d),g(t,u),g(u,p),g(t,f),v||(x=y(t,"click",D),v=!0)},p(t,n){e=t,4&n&&w!==(w=e[25].dateTime+"")&&_(s,w),4&n&&j!==(j=e[25].id+"")&&_(l,j),4&n&&I!==(I=e[25].suspectName+"")&&_(r,I),4&n&&T!==(T=e[25].arrestingLawmenName+"")&&_(p,T)},d(e){e&&h(t),v=!1,x()}}}function _n(e){let t,n,s,i,l,o,c,r,d,u,p,f,x,w,j,_,I,T,D,L=je(e[5],e[4],2),S=[];for(let t=0;t<L.length;t+=1)S[t]=Sn(wn(e,L,t));return{c(){t=b("nav"),n=b("button"),s=k("First"),l=C(),o=b("button"),c=k("Prev"),d=C();for(let e=0;e<S.length;e+=1)S[e].c();u=C(),p=b("button"),f=k("Next"),w=C(),j=b("button"),_=k("Last"),n.disabled=i=1===e[5],$(n,"class","svelte-489zah"),o.disabled=r=1===e[5],$(o,"class","svelte-489zah"),p.disabled=x=e[5]===hn,$(p,"class","svelte-489zah"),j.disabled=I=e[5]===hn,$(j,"class","svelte-489zah"),$(t,"class","pagination svelte-489zah")},m(a,i){m(a,t,i),g(t,n),g(n,s),g(t,l),g(t,o),g(o,c),g(t,d);for(let e=0;e<S.length;e+=1)S[e]&&S[e].m(t,null);g(t,u),g(t,p),g(p,f),g(t,w),g(t,j),g(j,_),T||(D=[y(n,"click",e[16]),y(o,"click",e[17]),y(p,"click",e[20]),y(j,"click",e[21])],T=!0)},p(e,s){if(32&s&&i!==(i=1===e[5])&&(n.disabled=i),32&s&&r!==(r=1===e[5])&&(o.disabled=r),15411&s){let n;for(L=je(e[5],e[4],2),n=0;n<L.length;n+=1){const a=wn(e,L,n);S[n]?S[n].p(a,s):(S[n]=Sn(a),S[n].c(),S[n].m(t,u))}for(;n<S.length;n+=1)S[n].d(1);S.length=L.length}32&s&&x!==(x=e[5]===hn)&&(p.disabled=x),32&s&&I!==(I=e[5]===hn)&&(j.disabled=I)},d(e){e&&h(t),v(S,e),T=!1,a(D)}}}function In(e){let t,n,s,a,i,l=e[22]+"";function o(){return e[19](e[22])}return{c(){t=b("button"),n=k(l),$(t,"aria-current",s=e[5]===e[22]?"page":void 0),$(t,"class","svelte-489zah"),L(t,"active",e[5]===e[22])},m(e,s){m(e,t,s),g(t,n),a||(i=y(t,"click",o),a=!0)},p(a,i){e=a,48&i&&l!==(l=e[22]+"")&&_(n,l),48&i&&s!==(s=e[5]===e[22]?"page":void 0)&&$(t,"aria-current",s),48&i&&L(t,"active",e[5]===e[22])},d(e){e&&h(t),a=!1,i()}}}function Tn(e){let t;function n(e,t){return e[0]?Ln:Dn}let s=n(e),a=s(e);return{c(){a.c(),t=x()},m(e,n){a.m(e,n),m(e,t,n)},p(e,i){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},d(e){a.d(e),e&&h(t)}}}function Dn(t){let n,s,a;return{c(){n=b("button"),n.textContent="...",$(n,"class","svelte-489zah")},m(e,i){m(e,n,i),s||(a=y(n,"click",t[11]),s=!0)},p:e,d(e){e&&h(n),s=!1,a()}}}function Ln(e){let t,n,s,i,l;return{c(){t=b("input"),n=C(),s=b("button"),s.textContent="Go",$(t,"type","number"),$(t,"min","1"),$(t,"max",hn),$(t,"class","svelte-489zah"),$(s,"class","svelte-489zah")},m(a,o){m(a,t,o),I(t,e[1]),m(a,n,o),m(a,s,o),i||(l=[y(t,"input",e[18]),y(t,"change",e[12]),y(s,"click",e[13])],i=!0)},p(e,n){2&n&&j(t.value)!==e[1]&&I(t,e[1])},d(e){e&&h(t),e&&h(n),e&&h(s),i=!1,a(l)}}}function Sn(e){let t;function n(e,t){return"..."===e[22]?Tn:In}let s=n(e),a=s(e);return{c(){a.c(),t=x()},m(e,n){a.m(e,n),m(e,t,n)},p(e,i){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},d(e){a.d(e),e&&h(t)}}}function Nn(t){let n,s,i,l,o,c,r,d,u,p,f,k,w,j,_=t[2],T=[];for(let e=0;e<_.length;e+=1)T[e]=jn($n(t,_,e));let D=t[4]>1&&_n(t);return{c(){n=b("div"),s=b("input"),i=C(),l=b("button"),l.textContent="New Report",o=C(),c=b("div"),r=b("table"),d=b("thead"),d.innerHTML='<tr class="svelte-489zah"><th class="svelte-489zah">Date</th> \n        <th class="svelte-489zah">Report ID</th> \n        <th class="svelte-489zah">Suspect Name</th> \n        <th class="svelte-489zah">Arresting Officer</th></tr>',u=C(),p=b("tbody");for(let e=0;e<T.length;e+=1)T[e].c();f=C(),D&&D.c(),k=x(),$(s,"type","text"),$(s,"placeholder","Search Reports..."),$(s,"class","svelte-489zah"),$(n,"class","search-container svelte-489zah"),$(r,"class","svelte-489zah"),$(c,"class","reports-container svelte-489zah")},m(e,a){m(e,n,a),g(n,s),I(s,t[3]),m(e,i,a),m(e,l,a),m(e,o,a),m(e,c,a),g(c,r),g(r,d),g(r,u),g(r,p);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(p,null);m(e,f,a),D&&D.m(e,a),m(e,k,a),w||(j=[y(s,"input",t[14]),y(l,"click",t[8])],w=!0)},p(e,[t]){if(8&t&&s.value!==e[3]&&I(s,e[3]),516&t){let n;for(_=e[2],n=0;n<_.length;n+=1){const s=$n(e,_,n);T[n]?T[n].p(s,t):(T[n]=jn(s),T[n].c(),T[n].m(p,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=_.length}e[4]>1?D?D.p(e,t):(D=_n(e),D.c(),D.m(k.parentNode,k)):D&&(D.d(1),D=null)},i:e,o:e,d(e){e&&h(n),e&&h(i),e&&h(l),e&&h(o),e&&h(c),v(T,e),e&&h(f),D&&D.d(e),e&&h(k),w=!1,a(j)}}}function Pn(e,t,n){let s,a,i,l;u(e,fn,(e=>n(2,s=e))),u(e,hn,(e=>n(4,i=e)));let o=ge("");u(e,o,(e=>n(3,a=e)));let c=ge(1);u(e,c,(e=>n(5,l=e)));let r=!1,d="";function p(e){Ee(`/report-details/${e}`)}function f(e){c.set(e),n(0,r=!1),n(1,d="")}F((()=>{xn(),console.log("Reports:",s)}));return[r,d,s,a,i,l,o,c,function(){Ee("/new-report")},p,f,function(){n(0,r=!0)},function(e){n(1,d=e.target.value)},function(){const e=parseInt(d);!isNaN(e)&&e>0&&e<=hn&&f(e),n(0,r=!1)},function(){a=this.value,o.set(a)},e=>p(e.id),()=>f(1),()=>f(l-1),function(){d=j(this.value),n(1,d)},e=>f(e),()=>f(l+1),()=>f(hn)]}window.addEventListener("message",(e=>{const t=e.data;switch(t.type){case"receiveReports":case"receiveSearchedReports":vn(t.reports);break;case"receiveReport":bn(t.report);break;case"receiveReportsBySuspect":kn(t.reports);break;case"receiveTotalReportPages":case"receiveTotalReportPagesBySuspect":Cn(t.pages)}}));function Fn(t){let n;return{c(){n=b("p"),n.textContent="Loading report details..."},m(e,t){m(e,n,t)},p:e,d(e){e&&h(n)}}}function Rn(e){let t,n,s,a,i,l,o,c,r,d,u,p,f,v,x,w,j,I,T,D,L,S,N,P,F,R,A,J,E,q,O,M,z,W,B,V,H,U,Y,X,G,K,Z,Q,ee,te,ne,se,ae,ie,le,oe,ce,re,de,ue,pe,fe,ge,me,he,ve,be,ke,Ce,xe,ye,we,$e,je,_e,Ie,Te,De,Le,Se,Ne,Pe,Fe,Re,Ae,Je=e[0].reportTitle+"",Ee=e[0].reportDescription+"",qe=e[0].suspectId+"",Oe=e[0].suspectName+"",Me=e[0].suspectJob+"",ze=e[0].dateTime+"",We=e[0].location+"",Be=e[0].arrestingLawmenName+"",Ve=e[0].arrestingLawmenId+"",He=e[0].itemsConfiscated+"",Ue=e[0].chargeDetails+"",Ye=e[0].jailTime+"",Xe=e[0].originalFine+"",Ge=e[0].reducedFine+"",Ke=e[0].fineReduction+"",Ze=e[0].station+"";return{c(){t=b("div"),n=b("div"),s=b("h2"),a=k(Je),i=C(),l=b("button"),l.textContent="← Back",o=C(),c=b("p"),r=b("strong"),r.textContent="Description:",d=C(),u=k(Ee),p=C(),f=b("p"),v=b("strong"),v.textContent="Suspect Id:",x=C(),w=k(qe),j=C(),I=b("p"),T=b("strong"),T.textContent="Suspect Name:",D=C(),L=k(Oe),S=C(),N=b("p"),P=b("strong"),P.textContent="Suspect Job:",F=C(),R=k(Me),A=C(),J=b("p"),E=b("strong"),E.textContent="Date/Time:",q=C(),O=k(ze),M=C(),z=b("p"),W=b("strong"),W.textContent="Location:",B=C(),V=k(We),H=C(),U=b("p"),Y=b("strong"),Y.textContent="Arresting Officer:",X=C(),G=k(Be),K=k(" (ID: "),Z=k(Ve),Q=k(")"),ee=C(),te=b("p"),ne=b("strong"),ne.textContent="Items Confiscated:",se=C(),ae=k(He),ie=C(),le=b("p"),oe=b("strong"),oe.textContent="Charges:",ce=C(),re=k(Ue),de=C(),ue=b("p"),pe=b("strong"),pe.textContent="Jail Time:",fe=C(),ge=k(Ye),me=C(),he=b("p"),ve=b("strong"),ve.textContent="Original Fine:",be=C(),ke=k(Xe),Ce=C(),xe=b("p"),ye=b("strong"),ye.textContent="Reduced Fine:",we=C(),$e=k(Ge),je=C(),_e=b("p"),Ie=b("strong"),Ie.textContent="Fine Reduction:",Te=C(),De=k(Ke),Le=C(),Se=b("p"),Ne=b("strong"),Ne.textContent="Station:",Pe=C(),Fe=k(Ze),$(s,"class","svelte-190dqfa"),$(l,"class","back-button svelte-190dqfa"),$(n,"class","header svelte-190dqfa"),$(t,"class","report-details-container svelte-190dqfa")},m(h,b){m(h,t,b),g(t,n),g(n,s),g(s,a),g(n,i),g(n,l),g(t,o),g(t,c),g(c,r),g(c,d),g(c,u),g(t,p),g(t,f),g(f,v),g(f,x),g(f,w),g(t,j),g(t,I),g(I,T),g(I,D),g(I,L),g(t,S),g(t,N),g(N,P),g(N,F),g(N,R),g(t,A),g(t,J),g(J,E),g(J,q),g(J,O),g(t,M),g(t,z),g(z,W),g(z,B),g(z,V),g(t,H),g(t,U),g(U,Y),g(U,X),g(U,G),g(U,K),g(U,Z),g(U,Q),g(t,ee),g(t,te),g(te,ne),g(te,se),g(te,ae),g(t,ie),g(t,le),g(le,oe),g(le,ce),g(le,re),g(t,de),g(t,ue),g(ue,pe),g(ue,fe),g(ue,ge),g(t,me),g(t,he),g(he,ve),g(he,be),g(he,ke),g(t,Ce),g(t,xe),g(xe,ye),g(xe,we),g(xe,$e),g(t,je),g(t,_e),g(_e,Ie),g(_e,Te),g(_e,De),g(t,Le),g(t,Se),g(Se,Ne),g(Se,Pe),g(Se,Fe),Re||(Ae=y(l,"click",e[1]),Re=!0)},p(e,t){1&t&&Je!==(Je=e[0].reportTitle+"")&&_(a,Je),1&t&&Ee!==(Ee=e[0].reportDescription+"")&&_(u,Ee),1&t&&qe!==(qe=e[0].suspectId+"")&&_(w,qe),1&t&&Oe!==(Oe=e[0].suspectName+"")&&_(L,Oe),1&t&&Me!==(Me=e[0].suspectJob+"")&&_(R,Me),1&t&&ze!==(ze=e[0].dateTime+"")&&_(O,ze),1&t&&We!==(We=e[0].location+"")&&_(V,We),1&t&&Be!==(Be=e[0].arrestingLawmenName+"")&&_(G,Be),1&t&&Ve!==(Ve=e[0].arrestingLawmenId+"")&&_(Z,Ve),1&t&&He!==(He=e[0].itemsConfiscated+"")&&_(ae,He),1&t&&Ue!==(Ue=e[0].chargeDetails+"")&&_(re,Ue),1&t&&Ye!==(Ye=e[0].jailTime+"")&&_(ge,Ye),1&t&&Xe!==(Xe=e[0].originalFine+"")&&_(ke,Xe),1&t&&Ge!==(Ge=e[0].reducedFine+"")&&_($e,Ge),1&t&&Ke!==(Ke=e[0].fineReduction+"")&&_(De,Ke),1&t&&Ze!==(Ze=e[0].station+"")&&_(Fe,Ze)},d(e){e&&h(t),Re=!1,Ae()}}}function An(t){let n;function s(e,t){return e[0]?Rn:Fn}let a=s(t),i=a(t);return{c(){i.c(),n=x()},m(e,t){i.m(e,t),m(e,n,t)},p(e,[t]){a===(a=s(e))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&h(n)}}}function Jn(e,t,n){let s;u(e,gn,(e=>n(0,s=e)));let{params:a}=t;return F((()=>{const e=parseInt(a.reportId,10);console.log("Report ID from URL:",e),bn({id:1,suspectId:1,suspectName:"John Doe",suspectJob:"Unemployed",reportTitle:"Speeding",reportDescription:"Speeding on the highway",location:"Route 68",itemsConfiscated:"None",jailTime:0,originalFine:100,reducedFine:100,fineReduction:"None",station:"Mission Row PD",arrestingLawmenId:2,arrestingLawmenName:"Jane Doe",dateTime:"2021-09-01 12:00:00"})})),e.$$set=e=>{"params"in e&&n(2,a=e.params)},[s,function(){!async function(){await V(),window.history.back()}()},a]}function En(e,t,n){const s=e.slice();return s[33]=t[n],s}function qn(e,t,n){const s=e.slice();return s[36]=t[n],s[37]=t,s[38]=n,s}function On(e,t,n){const s=e.slice();return s[39]=t[n],s}function Mn(e){let t,n,s,a=e[39].charge+"";return{c(){t=b("option"),n=k(a),t.__value=s=e[39].charge,t.value=t.__value},m(e,s){m(e,t,s),g(t,n)},p(e,i){8192&i[0]&&a!==(a=e[39].charge+"")&&_(n,a),8192&i[0]&&s!==(s=e[39].charge)&&(t.__value=s,t.value=t.__value)},d(e){e&&h(t)}}}function zn(e){let t,n,s,i,l,o,c,r,d=e[13],u=[];for(let t=0;t<d.length;t+=1)u[t]=Mn(On(e,d,t));function p(){e[25].call(n,e[37],e[38])}function f(){return e[26](e[38])}return{c(){t=b("div"),n=b("select"),s=b("option"),s.textContent="Select Charge";for(let e=0;e<u.length;e+=1)u[e].c();i=C(),l=b("button"),l.textContent="🗑️",o=C(),s.__value="",s.value=s.__value,s.disabled=!0,$(n,"class","svelte-1e7v7gy"),void 0===e[36].charge&&H(p),$(l,"type","button"),$(l,"class","remove-charge-button svelte-1e7v7gy"),$(t,"class","charge-entry svelte-1e7v7gy")},m(a,d){m(a,t,d),g(t,n),g(n,s);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(n,null);T(n,e[36].charge,!0),g(t,i),g(t,l),g(t,o),c||(r=[y(n,"change",p),y(n,"change",e[17]),y(l,"click",f)],c=!0)},p(t,s){if(e=t,8192&s[0]){let t;for(d=e[13],t=0;t<d.length;t+=1){const a=On(e,d,t);u[t]?u[t].p(a,s):(u[t]=Mn(a),u[t].c(),u[t].m(n,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=d.length}8320&s[0]&&T(n,e[36].charge)},d(e){e&&h(t),v(u,e),c=!1,a(r)}}}function Wn(t){let n,s,a=t[33]+"";return{c(){n=b("option"),s=k(a),n.__value=t[33],n.value=n.__value},m(e,t){m(e,n,t),g(n,s)},p:e,d(e){e&&h(n)}}}function Bn(t){let n,s,i,l,o,c,r,d,u,p,f,k,x,_,D,L,S,N,P,F,R,A,J,E,q,O,M,z,W,B,V,U,Y,X,G,K,Z,Q,ee,te,ne,se,ae,ie,le,oe,ce,re,de,ue,pe,fe,ge,me,he,ve,be,ke,Ce,xe,ye,we,$e,je,_e,Ie,Te,De,Le,Se,Ne,Pe,Fe,Re=t[7],Ae=[];for(let e=0;e<Re.length;e+=1)Ae[e]=zn(qn(t,Re,e));let Je=t[14],Ee=[];for(let e=0;e<Je.length;e+=1)Ee[e]=Wn(En(t,Je,e));return{c(){n=b("div"),s=b("h2"),s.textContent="Create New Report",i=C(),l=b("form"),o=b("div"),c=b("label"),c.textContent="Suspect Id:",r=C(),d=b("input"),u=C(),p=b("div"),f=b("label"),f.textContent="Associate Names:",k=C(),x=b("input"),_=C(),D=b("div"),L=b("label"),L.textContent="Report Title:",S=C(),N=b("input"),P=C(),F=b("div"),R=b("label"),R.textContent="Report Description:",A=C(),J=b("textarea"),E=C(),q=b("div"),O=b("label"),O.textContent="Location:",M=C(),z=b("input"),W=C(),B=b("div"),V=b("label"),V.textContent="Items Confiscated:",U=C(),Y=b("input"),X=C(),G=b("div"),K=b("label"),K.textContent="Charges:",Z=C(),Q=b("button"),Q.textContent="Add Charge",ee=C();for(let e=0;e<Ae.length;e+=1)Ae[e].c();te=C(),ne=b("div"),se=b("label"),se.textContent="Fine Reduction:",ae=C(),ie=b("select");for(let e=0;e<Ee.length;e+=1)Ee[e].c();le=C(),oe=b("div"),ce=b("label"),ce.textContent="Original Fine:",re=C(),de=b("input"),ue=C(),pe=b("div"),fe=b("label"),fe.textContent="Reduced Fine:",ge=C(),me=b("input"),he=C(),ve=b("div"),be=b("label"),be.textContent="Total Jail Time:",ke=C(),Ce=b("input"),xe=C(),ye=b("div"),we=b("label"),we.textContent="Station:",$e=C(),je=b("input"),_e=C(),Ie=b("div"),Te=b("label"),Te.textContent="Arresting Officer ID:",De=C(),Le=b("input"),Se=C(),Ne=b("button"),Ne.textContent="Submit Report",$(c,"for","suspectId"),$(c,"class","svelte-1e7v7gy"),$(d,"id","suspectId"),$(d,"type","text"),$(d,"class","svelte-1e7v7gy"),$(o,"class","form-group svelte-1e7v7gy"),$(f,"for","associateNames"),$(f,"class","svelte-1e7v7gy"),$(x,"id","associateNames"),$(x,"type","text"),$(x,"class","svelte-1e7v7gy"),$(p,"class","form-group svelte-1e7v7gy"),$(L,"for","reportTitle"),$(L,"class","svelte-1e7v7gy"),$(N,"id","reportTitle"),$(N,"type","text"),$(N,"class","svelte-1e7v7gy"),$(D,"class","form-group svelte-1e7v7gy"),$(R,"for","reportDescription"),$(R,"class","svelte-1e7v7gy"),$(J,"id","reportDescription"),$(J,"class","svelte-1e7v7gy"),$(F,"class","form-group svelte-1e7v7gy"),$(O,"for","location"),$(O,"class","svelte-1e7v7gy"),$(z,"id","location"),$(z,"type","text"),$(z,"class","svelte-1e7v7gy"),$(q,"class","form-group svelte-1e7v7gy"),$(V,"for","itemsConfiscated"),$(V,"class","svelte-1e7v7gy"),$(Y,"id","itemsConfiscated"),$(Y,"type","text"),$(Y,"class","svelte-1e7v7gy"),$(B,"class","form-group svelte-1e7v7gy"),$(K,"class","svelte-1e7v7gy"),$(Q,"type","button"),$(Q,"class","add-charge-button svelte-1e7v7gy"),$(G,"class","form-group svelte-1e7v7gy"),$(se,"for","fineReduction"),$(se,"class","svelte-1e7v7gy"),$(ie,"id","fineReduction"),$(ie,"class","svelte-1e7v7gy"),void 0===t[0]&&H((()=>t[27].call(ie))),$(ne,"class","form-group svelte-1e7v7gy"),$(ce,"for","originalFine"),$(ce,"class","svelte-1e7v7gy"),$(de,"id","originalFine"),$(de,"type","number"),de.disabled=!0,$(de,"class","svelte-1e7v7gy"),$(oe,"class","form-group svelte-1e7v7gy"),$(fe,"for","reducedFine"),$(fe,"class","svelte-1e7v7gy"),$(me,"id","reducedFine"),$(me,"type","number"),me.disabled=!0,$(me,"class","svelte-1e7v7gy"),$(pe,"class","form-group svelte-1e7v7gy"),$(be,"for","jailTime"),$(be,"class","svelte-1e7v7gy"),$(Ce,"id","jailTime"),$(Ce,"type","number"),Ce.disabled=!0,$(Ce,"class","svelte-1e7v7gy"),$(ve,"class","form-group svelte-1e7v7gy"),$(we,"for","station"),$(we,"class","svelte-1e7v7gy"),$(je,"id","station"),$(je,"type","text"),$(je,"class","svelte-1e7v7gy"),$(ye,"class","form-group svelte-1e7v7gy"),$(Te,"for","arrestingLawmenId"),$(Te,"class","svelte-1e7v7gy"),$(Le,"id","arrestingLawmenId"),$(Le,"type","text"),$(Le,"class","svelte-1e7v7gy"),$(Ie,"class","form-group svelte-1e7v7gy"),$(Ne,"type","submit"),$(Ne,"class","submit-button svelte-1e7v7gy"),$(n,"class","report-form-container svelte-1e7v7gy")},m(e,a){m(e,n,a),g(n,s),g(n,i),g(n,l),g(l,o),g(o,c),g(o,r),g(o,d),I(d,t[1]),g(l,u),g(l,p),g(p,f),g(p,k),g(p,x),I(x,t[2]),g(l,_),g(l,D),g(D,L),g(D,S),g(D,N),I(N,t[3]),g(l,P),g(l,F),g(F,R),g(F,A),g(F,J),I(J,t[4]),g(l,E),g(l,q),g(q,O),g(q,M),g(q,z),I(z,t[5]),g(l,W),g(l,B),g(B,V),g(B,U),g(B,Y),I(Y,t[6]),g(l,X),g(l,G),g(G,K),g(G,Z),g(G,Q),g(G,ee);for(let e=0;e<Ae.length;e+=1)Ae[e]&&Ae[e].m(G,null);g(l,te),g(l,ne),g(ne,se),g(ne,ae),g(ne,ie);for(let e=0;e<Ee.length;e+=1)Ee[e]&&Ee[e].m(ie,null);T(ie,t[0],!0),g(l,le),g(l,oe),g(oe,ce),g(oe,re),g(oe,de),I(de,t[9]),g(l,ue),g(l,pe),g(pe,fe),g(pe,ge),g(pe,me),I(me,t[10]),g(l,he),g(l,ve),g(ve,be),g(ve,ke),g(ve,Ce),I(Ce,t[8]),g(l,xe),g(l,ye),g(ye,we),g(ye,$e),g(ye,je),I(je,t[11]),g(l,_e),g(l,Ie),g(Ie,Te),g(Ie,De),g(Ie,Le),I(Le,t[12]),g(l,Se),g(l,Ne),Pe||(Fe=[y(d,"input",t[19]),y(x,"input",t[20]),y(N,"input",t[21]),y(J,"input",t[22]),y(z,"input",t[23]),y(Y,"input",t[24]),y(Q,"click",t[15]),y(ie,"change",t[27]),y(de,"input",t[28]),y(me,"input",t[29]),y(Ce,"input",t[30]),y(je,"input",t[31]),y(Le,"input",t[32]),y(l,"submit",w(t[18]))],Pe=!0)},p(e,t){if(2&t[0]&&d.value!==e[1]&&I(d,e[1]),4&t[0]&&x.value!==e[2]&&I(x,e[2]),8&t[0]&&N.value!==e[3]&&I(N,e[3]),16&t[0]&&I(J,e[4]),32&t[0]&&z.value!==e[5]&&I(z,e[5]),64&t[0]&&Y.value!==e[6]&&I(Y,e[6]),204928&t[0]){let n;for(Re=e[7],n=0;n<Re.length;n+=1){const s=qn(e,Re,n);Ae[n]?Ae[n].p(s,t):(Ae[n]=zn(s),Ae[n].c(),Ae[n].m(G,null))}for(;n<Ae.length;n+=1)Ae[n].d(1);Ae.length=Re.length}if(16384&t[0]){let n;for(Je=e[14],n=0;n<Je.length;n+=1){const s=En(e,Je,n);Ee[n]?Ee[n].p(s,t):(Ee[n]=Wn(s),Ee[n].c(),Ee[n].m(ie,null))}for(;n<Ee.length;n+=1)Ee[n].d(1);Ee.length=Je.length}16385&t[0]&&T(ie,e[0]),512&t[0]&&j(de.value)!==e[9]&&I(de,e[9]),1024&t[0]&&j(me.value)!==e[10]&&I(me,e[10]),256&t[0]&&j(Ce.value)!==e[8]&&I(Ce,e[8]),2048&t[0]&&je.value!==e[11]&&I(je,e[11]),4096&t[0]&&Le.value!==e[12]&&I(Le,e[12])},i:e,o:e,d(e){e&&h(n),v(Ae,e),v(Ee,e),Pe=!1,a(Fe)}}}function Vn(e,t,n){let s;u(e,ke,(e=>n(13,s=e)));let a="",i="",l="",o="",c="",r="",d=[],p=0,f=0,g=0,m="None",h="",v="";const b=["None","10%","25%","50%"];function k(e){n(7,d=d.filter(((t,n)=>n!==e))),C()}function C(){let e=0,t=0;d.forEach((n=>{const a=s.find((e=>e.charge===n.charge));a&&(e+=a.fine,t+=a.jail)})),n(9,f=e),n(8,p=t);n(10,g=e-e*("10%"===m?.1:"25%"===m?.25:"50%"===m?.5:0))}F((()=>{console.log("Fetching charge list from the server...")}));return e.$$.update=()=>{1&e.$$.dirty[0]&&C()},[m,a,i,l,o,c,r,d,p,f,g,h,v,s,b,function(){n(7,d=[...d,{charge:"",fine:0,jail:0}]),C()},k,C,function(){const e={suspectId:a,associateNames:i,reportTitle:l,reportDescription:o,location:c,itemsConfiscated:r,charges:d,jailTime:p,originalFine:f,reducedFine:g,fineReduction:m,station:h,arrestingLawmenId:v,dateTime:(new Date).toLocaleString()};var t;t=e,fn.update((e=>{const n={id:e.length+1,suspectId:t.suspectId,suspectName:"Sergi Doe",suspectJob:"Unemployed",reportTitle:t.reportTitle,reportDescription:t.reportDescription,location:t.location,itemsConfiscated:t.itemsConfiscated,jailTime:t.jailTime,originalFine:t.originalFine,reducedFine:t.reducedFine,fineReduction:t.fineReduction,station:t.station,arrestingLawmenId:t.arrestingLawmenId,arrestingLawmenName:"David Doe",dateTime:t.dateTime};return[...e,n]})),Ee("/reports")},function(){a=this.value,n(1,a)},function(){i=this.value,n(2,i)},function(){l=this.value,n(3,l)},function(){o=this.value,n(4,o)},function(){c=this.value,n(5,c)},function(){r=this.value,n(6,r)},function(e,t){e[t].charge=D(this),n(7,d)},e=>k(e),function(){m=D(this),n(0,m),n(14,b)},function(){f=j(this.value),n(9,f)},function(){g=j(this.value),n(10,g)},function(){p=j(this.value),n(8,p)},function(){h=this.value,n(11,h)},function(){v=this.value,n(12,v)}]}const Hn=[{id:1,charId:1,isWanted:!1,mugshotLink:"https://via.placeholder.com/150",firstname:"John",lastname:"Doe",job:"Police Officer"},{id:2,charId:2,isWanted:!0,mugshotLink:"https://via.placeholder.com/150",firstname:"Jane",lastname:"Doe",job:"Police Officer"}],Un=ge({}),Yn=ge(Hn);function Xn(e){Un.set(e)}function Gn(e){console.log("Setting profiles",e),Yn.set(e)}function Kn(e){console.log(Yn),Yn.subscribe((e=>{0===e.length&&Gn([{id:1,charId:1,isWanted:!1,mugshotLink:"https://via.placeholder.com/150",firstname:"John",lastname:"Doe",job:"Police Officer"},{id:2,charId:2,isWanted:!0,mugshotLink:"https://via.placeholder.com/150",firstname:"Jane",lastname:"Doe",job:"Police Officer"}])}))}function Zn(e,t,n){Yn.update((s=>{const a=s.find((t=>t.charId==e));return a&&(a.isWanted=t,a.mugshotLink=n),s}))}function Qn(e){""!==e?Yn.update((t=>{const n=t.filter((t=>t.firstname.toLowerCase().includes(e.toLowerCase())||t.lastname.toLowerCase().includes(e.toLowerCase())||t.charId.toString()===e));return n})):Yn.set(Hn)}function es(e,t,n){const s=e.slice();return s[23]=t[n],s}function ts(e,t,n){const s=e.slice();return s[26]=t[n],s}function ns(t){let n;return{c(){n=b("p"),n.textContent="Loading profile details..."},m(e,t){m(e,n,t)},p:e,d(e){e&&h(n)}}}function ss(e){let t,n,s,i,l,o,c,d,u,p,f,x,w,j,I,T,D,L,S,N,P,F,R,A,J,E,q,O,M,z,W,B,V,H,U,Y,X,G,K,Z,Q,ee,te,ne=(e[4].firstname||"N/A")+"",se=(e[4].lastname||"N/A")+"",ae=(e[4].charId||"N/A")+"",ie=(e[4].job||"N/A")+"",le=e[3]?"Remove from Wanted List":"Add to Wanted List",oe=e[6],ce=[];for(let t=0;t<oe.length;t+=1)ce[t]=as(ts(e,oe,t));let re=e[5]>1&&is(e);return{c(){t=b("div"),n=b("div"),s=b("h2"),s.textContent="Profile",i=C(),l=b("p"),o=b("strong"),o.textContent="Firstname:",c=C(),d=k(ne),u=C(),p=b("p"),f=b("strong"),f.textContent="Lastname:",x=C(),w=k(se),j=C(),I=b("p"),T=b("strong"),T.textContent="Id:",D=C(),L=k(ae),S=C(),N=b("p"),P=b("strong"),P.textContent="Job:",F=C(),R=k(ie),A=C(),J=b("button"),E=k(le),q=C(),O=b("div"),M=b("h3"),M.textContent="Mugshot",z=C(),W=b("div"),B=b("img"),H=C(),U=b("button"),U.textContent="Upload New Mugshot",Y=C(),X=b("div"),G=b("h3"),G.textContent="Criminal Record",K=C(),Z=b("ul");for(let e=0;e<ce.length;e+=1)ce[e].c();Q=C(),re&&re.c(),$(s,"class","svelte-mszb43"),$(J,"class","wanted-toggle svelte-mszb43"),$(n,"class","profile-section svelte-mszb43"),$(M,"class","svelte-mszb43"),r(B.src,V=e[4].mugshotLink||"")||$(B,"src",V),$(B,"alt","Mugshot"),$(B,"class","svelte-mszb43"),$(U,"class","svelte-mszb43"),$(W,"class","mugshot-container svelte-mszb43"),$(O,"class","mugshot-section svelte-mszb43"),$(t,"class","profile-mugshot-container svelte-mszb43"),$(Z,"class","svelte-mszb43"),$(X,"class","criminal-record-section svelte-mszb43")},m(a,r){m(a,t,r),g(t,n),g(n,s),g(n,i),g(n,l),g(l,o),g(l,c),g(l,d),g(n,u),g(n,p),g(p,f),g(p,x),g(p,w),g(n,j),g(n,I),g(I,T),g(I,D),g(I,L),g(n,S),g(n,N),g(N,P),g(N,F),g(N,R),g(n,A),g(n,J),g(J,E),g(t,q),g(t,O),g(O,M),g(O,z),g(O,W),g(W,B),g(W,H),g(W,U),m(a,Y,r),m(a,X,r),g(X,G),g(X,K),g(X,Z);for(let e=0;e<ce.length;e+=1)ce[e]&&ce[e].m(Z,null);g(X,Q),re&&re.m(X,null),ee||(te=[y(J,"click",e[12]),y(U,"click",e[11])],ee=!0)},p(e,t){if(16&t&&ne!==(ne=(e[4].firstname||"N/A")+"")&&_(d,ne),16&t&&se!==(se=(e[4].lastname||"N/A")+"")&&_(w,se),16&t&&ae!==(ae=(e[4].charId||"N/A")+"")&&_(L,ae),16&t&&ie!==(ie=(e[4].job||"N/A")+"")&&_(R,ie),8&t&&le!==(le=e[3]?"Remove from Wanted List":"Add to Wanted List")&&_(E,le),16&t&&!r(B.src,V=e[4].mugshotLink||"")&&$(B,"src",V),1088&t){let n;for(oe=e[6],n=0;n<oe.length;n+=1){const s=ts(e,oe,n);ce[n]?ce[n].p(s,t):(ce[n]=as(s),ce[n].c(),ce[n].m(Z,null))}for(;n<ce.length;n+=1)ce[n].d(1);ce.length=oe.length}e[5]>1?re?re.p(e,t):(re=is(e),re.c(),re.m(X,null)):re&&(re.d(1),re=null)},d(e){e&&h(t),e&&h(Y),e&&h(X),v(ce,e),re&&re.d(),ee=!1,a(te)}}}function as(e){let t,n,s,i,l,o,c,r,d,u=(e[26].dateTime||"Unknown Date")+"",p=(e[26].reportTitle||"No Title")+"";function f(){return e[14](e[26])}function v(...t){return e[15](e[26],...t)}return{c(){t=b("li"),n=b("span"),s=k(u),i=k(" - "),l=b("span"),o=k(p),c=C(),$(t,"tabindex","0"),$(t,"class","svelte-mszb43")},m(e,a){m(e,t,a),g(t,n),g(n,s),g(t,i),g(t,l),g(l,o),g(t,c),r||(d=[y(t,"click",f),y(t,"keydown",v)],r=!0)},p(t,n){e=t,64&n&&u!==(u=(e[26].dateTime||"Unknown Date")+"")&&_(s,u),64&n&&p!==(p=(e[26].reportTitle||"No Title")+"")&&_(o,p)},d(e){e&&h(t),r=!1,a(d)}}}function is(e){let t,n,s,i,l,o,c,r,d,u,p,f,x,w,j,_,I,T,D,L=je(e[0],e[5],2),S=[];for(let t=0;t<L.length;t+=1)S[t]=ds(es(e,L,t));return{c(){t=b("div"),n=b("button"),s=k("First"),l=C(),o=b("button"),c=k("Prev"),d=C();for(let e=0;e<S.length;e+=1)S[e].c();u=C(),p=b("button"),f=k("Next"),w=C(),j=b("button"),_=k("Last"),n.disabled=i=1===e[0],$(n,"class","svelte-mszb43"),o.disabled=r=1===e[0],$(o,"class","svelte-mszb43"),p.disabled=x=e[0]===ps,$(p,"class","svelte-mszb43"),j.disabled=I=e[0]===ps,$(j,"class","svelte-mszb43"),$(t,"class","pagination svelte-mszb43")},m(a,i){m(a,t,i),g(t,n),g(n,s),g(t,l),g(t,o),g(o,c),g(t,d);for(let e=0;e<S.length;e+=1)S[e]&&S[e].m(t,null);g(t,u),g(t,p),g(p,f),g(t,w),g(t,j),g(j,_),T||(D=[y(n,"click",e[16]),y(o,"click",e[17]),y(p,"click",e[21]),y(j,"click",e[22])],T=!0)},p(e,s){if(1&s&&i!==(i=1===e[0])&&(n.disabled=i),1&s&&r!==(r=1===e[0])&&(o.disabled=r),935&s){let n;for(L=je(e[0],e[5],2),n=0;n<L.length;n+=1){const a=es(e,L,n);S[n]?S[n].p(a,s):(S[n]=ds(a),S[n].c(),S[n].m(t,u))}for(;n<S.length;n+=1)S[n].d(1);S.length=L.length}1&s&&x!==(x=e[0]===ps)&&(p.disabled=x),1&s&&I!==(I=e[0]===ps)&&(j.disabled=I)},d(e){e&&h(t),v(S,e),T=!1,a(D)}}}function ls(e){let t,n,s,a,i=e[23]+"";function l(){return e[20](e[23])}return{c(){t=b("button"),n=k(i),$(t,"class","svelte-mszb43"),L(t,"active",e[23]===e[0])},m(e,i){m(e,t,i),g(t,n),s||(a=y(t,"click",l),s=!0)},p(s,a){e=s,33&a&&i!==(i=e[23]+"")&&_(n,i),33&a&&L(t,"active",e[23]===e[0])},d(e){e&&h(t),s=!1,a()}}}function os(e){let t;function n(e,t){return e[1]?rs:cs}let s=n(e),a=s(e);return{c(){a.c(),t=x()},m(e,n){a.m(e,n),m(e,t,n)},p(e,i){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},d(e){a.d(e),e&&h(t)}}}function cs(e){let t,n,s,a,i=e[23]+"";return{c(){t=b("button"),n=k(i),$(t,"class","svelte-mszb43")},m(i,l){m(i,t,l),g(t,n),s||(a=y(t,"click",e[8]),s=!0)},p(e,t){33&t&&i!==(i=e[23]+"")&&_(n,i)},d(e){e&&h(t),s=!1,a()}}}function rs(e){let t,n,s,i,l;return{c(){t=b("input"),n=C(),s=b("button"),s.textContent="Go",$(t,"type","number"),$(t,"min","1"),$(t,"max",ps),$(t,"class","svelte-mszb43"),$(s,"class","svelte-mszb43")},m(a,o){m(a,t,o),I(t,e[2]),m(a,n,o),m(a,s,o),i||(l=[y(t,"input",e[18]),y(t,"input",e[19]),y(s,"click",e[9])],i=!0)},p(e,n){4&n&&j(t.value)!==e[2]&&I(t,e[2])},d(e){e&&h(t),e&&h(n),e&&h(s),i=!1,a(l)}}}function ds(e){let t;function n(e,t){return"..."===e[23]?os:ls}let s=n(e),a=s(e);return{c(){a.c(),t=x()},m(e,n){a.m(e,n),m(e,t,n)},p(e,i){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},d(e){a.d(e),e&&h(t)}}}function us(t){let n;function s(e,t){return e[4]?ss:ns}let a=s(t),i=a(t);return{c(){i.c(),n=x()},m(e,t){i.m(e,t),m(e,n,t)},p(e,[t]){a===(a=s(e))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&h(n)}}}window.addEventListener("message",(function(e){switch(e.data.type){case"receiveProfile":Xn(e.data.profile);break;case"receiveProfiles":Gn(e.data.profiles)}}));let ps=0;function fs(e,t,n){let s,a,i;u(e,Un,(e=>n(4,s=e))),u(e,hn,(e=>n(5,a=e))),u(e,mn,(e=>n(6,i=e)));let{params:l={}}=t,o=1,c=!1,r=o,d=!1;function p(e){e>0&&e<=ps&&(n(0,o=e),Kn())}function f(e){Ee(`/report-details/${e}`)}F((()=>{if(!l.profileId)return void console.error("No profileId parameter provided.");const e=parseInt(l.profileId,10);Un.subscribe((e=>{0===Object.keys(e).length&&Xn({id:1,charId:1,isWanted:!1,mugshotLink:"https://via.placeholder.com/150",firstname:"John",lastname:"Doe",job:"Police Officer"})})),yn(e),n(3,d=s.isWanted),console.log("Profile:",s),console.log("ReportsBySuspect:",i),console.log("TotalReportPages:",a)}));return e.$$set=e=>{"params"in e&&n(13,l=e.params)},[o,c,r,d,s,a,i,p,function(){n(1,c=!c),n(2,r=o)},function(){const e=parseInt(r);e>0&&e<=ps&&(p(e),n(1,c=!1))},f,function(){const e=prompt("Enter the URL for the new mugshot:");e&&Zn(s.charId,s.isWanted,e)},function(){n(3,d=!d),Zn(s.charId,d,s.mugshotLink)},l,e=>f(e.id),(e,t)=>"Enter"===t.key&&f(e.id),()=>p(1),()=>p(o-1),function(){r=j(this.value),n(2,r)},e=>n(2,r=e.target.value),e=>p(e),()=>p(o+1),()=>p(ps)]}function gs(e,t,n){const s=e.slice();return s[7]=t[n],s}function ms(e){let t,n,s,a,i,l,o,c,r,d,u,p,f,v=e[7].firstname+" "+e[7].lastname,x=e[7].charId+"",w=e[7].job+"";function j(){return e[6](e[7])}return{c(){t=b("tr"),n=b("td"),s=b("strong"),a=k(v),i=C(),l=b("td"),o=k(x),c=C(),r=b("td"),d=k(w),u=C(),$(n,"class","svelte-10hqjag"),$(l,"class","svelte-10hqjag"),$(r,"class","svelte-10hqjag"),$(t,"tabindex","0"),$(t,"class","svelte-10hqjag")},m(e,h){m(e,t,h),g(t,n),g(n,s),g(s,a),g(t,i),g(t,l),g(l,o),g(t,c),g(t,r),g(r,d),g(t,u),p||(f=y(t,"click",j),p=!0)},p(t,n){e=t,2&n&&v!==(v=e[7].firstname+" "+e[7].lastname)&&_(a,v),2&n&&x!==(x=e[7].charId+"")&&_(o,x),2&n&&w!==(w=e[7].job+"")&&_(d,w)},d(e){e&&h(t),p=!1,f()}}}function hs(t){let n,s,i,l,o,c,r,d,u,p,f,k,x,w,j=t[1],_=[];for(let e=0;e<j.length;e+=1)_[e]=ms(gs(t,j,e));return{c(){n=b("div"),s=b("div"),i=b("h1"),i.textContent="Profiles",l=C(),o=b("button"),o.textContent="Create New Profile",c=C(),r=b("input"),d=C(),u=b("table"),p=b("thead"),p.innerHTML='<tr class="svelte-10hqjag"><th class="svelte-10hqjag">Name</th> \n        <th class="svelte-10hqjag">CharId</th> \n        <th class="svelte-10hqjag">Job</th></tr>',f=C(),k=b("tbody");for(let e=0;e<_.length;e+=1)_[e].c();$(i,"class","svelte-10hqjag"),$(o,"class","create-profile-button svelte-10hqjag"),$(s,"class","header-container svelte-10hqjag"),$(r,"type","text"),$(r,"placeholder","Search profiles..."),$(r,"class","search-bar svelte-10hqjag"),$(u,"class","svelte-10hqjag"),$(n,"class","profiles-container svelte-10hqjag")},m(e,a){m(e,n,a),g(n,s),g(s,i),g(s,l),g(s,o),g(n,c),g(n,r),I(r,t[0]),g(n,d),g(n,u),g(u,p),g(u,f),g(u,k);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(k,null);x||(w=[y(o,"click",t[4]),y(r,"input",t[3]),y(r,"input",t[5])],x=!0)},p(e,[t]){if(1&t&&r.value!==e[0]&&I(r,e[0]),6&t){let n;for(j=e[1],n=0;n<j.length;n+=1){const s=gs(e,j,n);_[n]?_[n].p(s,t):(_[n]=ms(s),_[n].c(),_[n].m(k,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=j.length}},i:e,o:e,d(e){e&&h(n),v(_,e),x=!1,a(w)}}}function vs(e,t,n){let s;u(e,Yn,(e=>n(1,s=e)));let a="";function i(e){Ee(`/player-profiles/${e}`)}F((()=>{Kn(),console.log("Profiles:",s)}));return[a,s,i,function(e){n(0,a=e.target.value.toLowerCase()),Qn(a)},()=>Ee("/new-profile"),function(){a=this.value,n(0,a)},e=>i(e.id)]}function bs(t){let n,s,i,l,o,c,r,d,u,p,f,v;return{c(){n=b("div"),s=b("h2"),s.textContent="Create New Profile",i=C(),l=b("form"),o=b("div"),c=b("label"),c.textContent="Character ID:",r=C(),d=b("input"),u=C(),p=b("button"),p.textContent="Create Profile",$(c,"for","charId"),$(c,"class","svelte-1daw0hx"),$(d,"id","charId"),$(d,"type","number"),d.required=!0,$(d,"class","svelte-1daw0hx"),$(o,"class","form-group svelte-1daw0hx"),$(p,"type","submit"),$(p,"class","submit-button svelte-1daw0hx"),$(n,"class","profile-form-container svelte-1daw0hx")},m(e,a){m(e,n,a),g(n,s),g(n,i),g(n,l),g(l,o),g(o,c),g(o,r),g(o,d),I(d,t[0]),g(l,u),g(l,p),f||(v=[y(d,"input",t[2]),y(l,"submit",w(t[1]))],f=!0)},p(e,[t]){1&t&&j(d.value)!==e[0]&&I(d,e[0])},i:e,o:e,d(e){e&&h(n),f=!1,a(v)}}}function ks(e,t,n){let s="";return[s,function(){!function(e,t,n){Yn.update((s=>{const a={id:s.length+1,charId:e,isWanted:t,mugshotLink:n,firstname:"John",lastname:"Doe",job:"Police Officer"};return[...s,a]}))}(parseInt(s,10),!1,""),Ee("/player-profiles")},function(){s=j(this.value),n(0,s)}]}function Cs(e,t,n){const s=e.slice();return s[19]=t[n],s}function xs(e,t,n){const s=e.slice();return s[22]=t[n],s}function ys(e){let t,n,s,i,l,o,c,r,d,u,p,f,k,x,_,D,L,S,N,P,F,R,A,J,E,q,O,M,z,W,B,V,U,Y,X,G,K,Z,Q,ee,te,ne=e[3],se=[];for(let t=0;t<ne.length;t+=1)se[t]=ws(xs(e,ne,t));return{c(){t=b("form"),n=b("div"),s=b("label"),s.textContent="Charge:",i=C(),l=b("input"),o=C(),c=b("div"),r=b("label"),r.textContent="Fine:",d=C(),u=b("input"),p=C(),f=b("div"),k=b("label"),k.textContent="Jail Time:",x=C(),_=b("input"),D=C(),L=b("div"),S=b("label"),S.textContent="Stackable:",N=C(),P=b("input"),F=C(),R=b("div"),A=b("label"),A.textContent="Stack Jail Cap:",J=C(),E=b("input"),q=C(),O=b("div"),M=b("label"),M.textContent="Stack Fine Cap:",z=C(),W=b("input"),B=C(),V=b("div"),U=b("label"),U.textContent="Confiscate:",Y=C(),X=b("select");for(let e=0;e<se.length;e+=1)se[e].c();G=C(),K=b("button"),K.textContent="Save Charge",Z=C(),Q=b("button"),Q.textContent="Reset",$(s,"class","svelte-16q2xet"),$(l,"type","text"),l.required=!0,$(l,"class","svelte-16q2xet"),$(n,"class","form-group svelte-16q2xet"),$(r,"class","svelte-16q2xet"),$(u,"type","number"),$(u,"class","svelte-16q2xet"),$(c,"class","form-group svelte-16q2xet"),$(k,"class","svelte-16q2xet"),$(_,"type","number"),$(_,"class","svelte-16q2xet"),$(f,"class","form-group svelte-16q2xet"),$(S,"class","svelte-16q2xet"),$(P,"type","checkbox"),$(P,"class","svelte-16q2xet"),$(L,"class","form-group svelte-16q2xet"),$(A,"class","svelte-16q2xet"),$(E,"type","number"),$(E,"class","svelte-16q2xet"),$(R,"class","form-group svelte-16q2xet"),$(M,"class","svelte-16q2xet"),$(W,"type","number"),$(W,"class","svelte-16q2xet"),$(O,"class","form-group svelte-16q2xet"),$(U,"class","svelte-16q2xet"),$(X,"class","svelte-16q2xet"),void 0===e[0].confiscate&&H((()=>e[16].call(X))),$(V,"class","form-group svelte-16q2xet"),$(K,"type","submit"),$(K,"class","save-button svelte-16q2xet"),$(Q,"type","button"),$(Q,"class","reset-button svelte-16q2xet"),$(t,"class","charge-form")},m(a,h){m(a,t,h),g(t,n),g(n,s),g(n,i),g(n,l),I(l,e[0].charge),g(t,o),g(t,c),g(c,r),g(c,d),g(c,u),I(u,e[0].fine),g(t,p),g(t,f),g(f,k),g(f,x),g(f,_),I(_,e[0].jail),g(t,D),g(t,L),g(L,S),g(L,N),g(L,P),P.checked=e[0].stackable,g(t,F),g(t,R),g(R,A),g(R,J),g(R,E),I(E,e[0].stackJailCap),g(t,q),g(t,O),g(O,M),g(O,z),g(O,W),I(W,e[0].stackFineCap),g(t,B),g(t,V),g(V,U),g(V,Y),g(V,X);for(let e=0;e<se.length;e+=1)se[e]&&se[e].m(X,null);T(X,e[0].confiscate,!0),g(t,G),g(t,K),g(t,Z),g(t,Q),ee||(te=[y(l,"input",e[10]),y(u,"input",e[11]),y(_,"input",e[12]),y(P,"change",e[13]),y(E,"input",e[14]),y(W,"input",e[15]),y(X,"change",e[16]),y(Q,"click",e[8]),y(t,"submit",w(e[6]))],ee=!0)},p(e,t){if(9&t&&l.value!==e[0].charge&&I(l,e[0].charge),9&t&&j(u.value)!==e[0].fine&&I(u,e[0].fine),9&t&&j(_.value)!==e[0].jail&&I(_,e[0].jail),9&t&&(P.checked=e[0].stackable),9&t&&j(E.value)!==e[0].stackJailCap&&I(E,e[0].stackJailCap),9&t&&j(W.value)!==e[0].stackFineCap&&I(W,e[0].stackFineCap),8&t){let n;for(ne=e[3],n=0;n<ne.length;n+=1){const s=xs(e,ne,n);se[n]?se[n].p(s,t):(se[n]=ws(s),se[n].c(),se[n].m(X,null))}for(;n<se.length;n+=1)se[n].d(1);se.length=ne.length}9&t&&T(X,e[0].confiscate)},d(e){e&&h(t),v(se,e),ee=!1,a(te)}}}function ws(t){let n,s,a=t[22].conf+"";return{c(){n=b("option"),s=k(a),n.__value=t[22].id,n.value=n.__value},m(e,t){m(e,n,t),g(n,s)},p:e,d(e){e&&h(n)}}}function $s(e){let t,n,s,i,l,o,c,r,d,u,p,f,v,x,w,j,I,T,D,L,S,N,P,F,R,A,J,E,q,O=e[19].charge+"",M=e[19].fine+"",z=e[19].jail+"",W=e[19].note?"Yes":"No",B=e[19].stackable?"Yes":"No",V=e[19].stackJailCap+"",H=e[19].stackFineCap+"";function U(){return e[17](e[19])}function Y(){return e[18](e[19])}return{c(){t=b("tr"),n=b("td"),s=k(O),i=C(),l=b("td"),o=k(M),c=C(),r=b("td"),d=k(z),u=C(),p=b("td"),f=k(W),v=C(),x=b("td"),w=k(B),j=C(),I=b("td"),T=k(V),D=C(),L=b("td"),S=k(H),N=C(),P=b("td"),F=b("button"),F.textContent="Edit",R=C(),A=b("button"),A.textContent="Delete",J=C(),$(n,"class","svelte-16q2xet"),$(l,"class","svelte-16q2xet"),$(r,"class","svelte-16q2xet"),$(p,"class","svelte-16q2xet"),$(x,"class","svelte-16q2xet"),$(I,"class","svelte-16q2xet"),$(L,"class","svelte-16q2xet"),$(F,"class","edit-button svelte-16q2xet"),$(A,"class","delete-button svelte-16q2xet"),$(P,"class","actions-cell svelte-16q2xet"),$(t,"class","svelte-16q2xet")},m(e,a){m(e,t,a),g(t,n),g(n,s),g(t,i),g(t,l),g(l,o),g(t,c),g(t,r),g(r,d),g(t,u),g(t,p),g(p,f),g(t,v),g(t,x),g(x,w),g(t,j),g(t,I),g(I,T),g(t,D),g(t,L),g(L,S),g(t,N),g(t,P),g(P,F),g(P,R),g(P,A),g(t,J),E||(q=[y(F,"click",U),y(A,"click",Y)],E=!0)},p(t,n){e=t,4&n&&O!==(O=e[19].charge+"")&&_(s,O),4&n&&M!==(M=e[19].fine+"")&&_(o,M),4&n&&z!==(z=e[19].jail+"")&&_(d,z),4&n&&W!==(W=e[19].note?"Yes":"No")&&_(f,W),4&n&&B!==(B=e[19].stackable?"Yes":"No")&&_(w,B),4&n&&V!==(V=e[19].stackJailCap+"")&&_(T,V),4&n&&H!==(H=e[19].stackFineCap+"")&&_(S,H)},d(e){e&&h(t),E=!1,a(q)}}}function js(t){let n,s,a,i,l,o,c,r,d,u,p,f,x,w=t[1]?"Cancel":"Create New Charge",j=t[1]&&ys(t),I=t[2],T=[];for(let e=0;e<I.length;e+=1)T[e]=$s(Cs(t,I,e));return{c(){n=b("div"),s=b("h2"),s.textContent="Charge Configurations",a=C(),i=b("button"),l=k(w),o=C(),j&&j.c(),c=C(),r=b("table"),d=b("thead"),d.innerHTML='<tr class="svelte-16q2xet"><th class="svelte-16q2xet">Charge</th> \n        <th class="svelte-16q2xet">Fine</th> \n        <th class="svelte-16q2xet">Jail Time</th> \n        <th class="svelte-16q2xet">Note</th> \n        <th class="svelte-16q2xet">Stackable</th> \n        <th class="svelte-16q2xet">Stack Jail Cap</th> \n        <th class="svelte-16q2xet">Stack Fine Cap</th> \n        <th class="svelte-16q2xet">Actions</th></tr>',u=C(),p=b("tbody");for(let e=0;e<T.length;e+=1)T[e].c();$(i,"class","toggle-form-button svelte-16q2xet"),$(r,"class","charges-table svelte-16q2xet"),$(n,"class","config-container svelte-16q2xet")},m(e,h){m(e,n,h),g(n,s),g(n,a),g(n,i),g(i,l),g(n,o),j&&j.m(n,null),g(n,c),g(n,r),g(r,d),g(r,u),g(r,p);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(p,null);f||(x=y(i,"click",t[9]),f=!0)},p(e,[t]){if(2&t&&w!==(w=e[1]?"Cancel":"Create New Charge")&&_(l,w),e[1]?j?j.p(e,t):(j=ys(e),j.c(),j.m(n,c)):j&&(j.d(1),j=null),164&t){let n;for(I=e[2],n=0;n<I.length;n+=1){const s=Cs(e,I,n);T[n]?T[n].p(s,t):(T[n]=$s(s),T[n].c(),T[n].m(p,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=I.length}},i:e,o:e,d(e){e&&h(n),j&&j.d(),v(T,e),f=!1,x()}}}function _s(e,t,n){let s;u(e,ke,(e=>n(2,s=e)));const a=[{id:0,conf:"N/A"},{id:1,conf:"Removal of Weapon(s) used"},{id:2,conf:"Contraband & Potential Cash (From Contraband Sales)"},{id:3,conf:"Amount of appraisal of possessions taken from person"},{id:4,conf:"Proven extorted Goods, Weapons, or Money"},{id:5,conf:"Removal of all Weapons and Contraband. If surrender only removal of Contraband"},{id:6,conf:"Any documents used to falsely pose as a government official"},{id:7,conf:"Scoped Weapon"},{id:8,conf:"Removal of Contraband"}];let i={charge:"",fine:0,jail:0,note:!1,stackable:!1,stackJailCap:0,stackFineCap:0,confiscate:0},l=!1;function o(){n(1,l=!l)}function c(e){n(0,i={...e}),n(1,l=!0)}function r(e){ke.update((t=>t.filter((t=>t.charge!==e))))}function d(){n(0,i={charge:"",fine:0,jail:0,note:!1,stackable:!1,stackJailCap:0,stackFineCap:0,confiscate:0}),n(1,l=!1)}return[i,l,s,a,o,c,function(){ke.update((e=>{const t=e.findIndex((e=>e.charge===i.charge));return t>-1?e[t]={...i}:e.push({...i}),d(),e}))},r,d,()=>o(),function(){i.charge=this.value,n(0,i),n(3,a)},function(){i.fine=j(this.value),n(0,i),n(3,a)},function(){i.jail=j(this.value),n(0,i),n(3,a)},function(){i.stackable=this.checked,n(0,i),n(3,a)},function(){i.stackJailCap=j(this.value),n(0,i),n(3,a)},function(){i.stackFineCap=j(this.value),n(0,i),n(3,a)},function(){i.confiscate=D(this),n(0,i),n(3,a)},e=>c(e),e=>r(e.charge)]}const Is={id:2,name:"Case File 2",created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1,status:"open",pages:[{id:2,created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1,blocks:[{id:2,type:"Paragraph",content:"This is a text block",created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1}]}]},Ts=[{id:1,name:"Case File 1",created:"2021-01-01 00:00:00"},{id:2,name:"Case File 2",created:"2021-01-01 00:00:00"}],Ds={id:1,created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",casefile_id:2,blocks:[{id:2,type:"Paragraph",content:"This is a text block",created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",page_id:2}]},Ls={id:2,name:"Case File 2",created:"2021-01-01 00:00:00",user_id:1,pages:[{page_id:2,casefile_id:2,blocks:[{id:2,type:"Paragraph",content:"This is a text block"}]}]},Ss=ge([{id:1,name:"Case File 1",created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1,status:"open",pages:[{id:1,created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1,blocks:[{id:1,type:"Paragraph",content:"This is a text block",created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1}]}]},{id:2,name:"Case File 2",created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1,status:"open",pages:[{id:2,created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1,blocks:[{id:2,type:"Paragraph",content:"This is a text block",created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:1}]}]}]),Ns=ge(Is),Ps=ge(Ts),Fs=ge(Ds),Rs=ge(Ls),As=ge(0);function Js(e){Ns.set(e)}function Es(e){Ps.set(e)}function qs(e){Fs.set(e)}function Os(e){Rs.set(e)}function Ms(e){As.set(e)}function zs(e){Ss.subscribe((t=>{if(0===Object.keys(t).length)Os(Ls);else{Os(t.find((t=>t.id===e)))}})),function(e){Ss.subscribe((t=>{if(void 0===t)Ms(1);else{const n=t.find((t=>t.id===e));if(!n)return void Ms(1);Ms(n.pages.length)}}))}(e)}function Ws(e){Rs.subscribe((t=>{qs(void 0===t?Ds:t.pages[e])}))}function Bs(e,t,n){const s=e.slice();return s[8]=t[n],s}function Vs(e){let t,n,s,i,l,o,c,r,d,u,p,f,v,x,w,j,I=e[8].name+"",T=new Date(e[8].created).toLocaleString()+"";function D(){return e[5](e[8])}function L(){return e[6](e[8])}function S(){return e[7](e[8])}return{c(){t=b("tr"),n=b("td"),s=k(I),i=C(),l=b("td"),o=k(T),c=C(),r=b("td"),d=b("button"),d.textContent="View",u=C(),p=b("button"),p.textContent="Edit",f=C(),v=b("button"),v.textContent="Delete",x=C(),$(n,"class","svelte-l0fpmg"),$(l,"class","svelte-l0fpmg"),$(d,"class","svelte-l0fpmg"),$(p,"class","svelte-l0fpmg"),$(v,"class","svelte-l0fpmg"),$(r,"class","svelte-l0fpmg")},m(e,a){m(e,t,a),g(t,n),g(n,s),g(t,i),g(t,l),g(l,o),g(t,c),g(t,r),g(r,d),g(r,u),g(r,p),g(r,f),g(r,v),g(t,x),w||(j=[y(d,"click",D),y(p,"click",L),y(v,"click",S)],w=!0)},p(t,n){e=t,1&n&&I!==(I=e[8].name+"")&&_(s,I),1&n&&T!==(T=new Date(e[8].created).toLocaleString()+"")&&_(o,T)},d(e){e&&h(t),w=!1,a(j)}}}function Hs(t){let n,s,a,i,l,o,c,r,d,u,p,f=t[0],k=[];for(let e=0;e<f.length;e+=1)k[e]=Vs(Bs(t,f,e));return{c(){n=b("div"),s=b("h1"),s.textContent="Case Files",a=C(),i=b("table"),l=b("thead"),l.innerHTML='<tr><th class="svelte-l0fpmg">Name</th> \n                <th class="svelte-l0fpmg">Date Created</th> \n                <th class="svelte-l0fpmg">Actions</th></tr>',o=C(),c=b("tbody");for(let e=0;e<k.length;e+=1)k[e].c();r=C(),d=b("button"),d.textContent="Create Case File",$(i,"class","svelte-l0fpmg"),$(d,"class","svelte-l0fpmg"),$(n,"class","casefiles-container svelte-l0fpmg")},m(e,f){m(e,n,f),g(n,s),g(n,a),g(n,i),g(i,l),g(i,o),g(i,c);for(let e=0;e<k.length;e+=1)k[e]&&k[e].m(c,null);g(n,r),g(n,d),u||(p=y(d,"click",t[1]),u=!0)},p(e,[t]){if(29&t){let n;for(f=e[0],n=0;n<f.length;n+=1){const s=Bs(e,f,n);k[n]?k[n].p(s,t):(k[n]=Vs(s),k[n].c(),k[n].m(c,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=f.length}},i:e,o:e,d(e){e&&h(n),v(k,e),u=!1,p()}}}function Us(e,t,n){let s;function a(e){Ee(`/case-files/${e}`)}function i(e){Ee(`/edit-casefile/${e}`)}function l(e){var t;t=e,Ss.update((e=>e.filter((e=>e.id!==t))))}u(e,Ss,(e=>n(0,s=e))),F((()=>{console.log("CaseFiles:",s),Ps.subscribe((e=>{0===e.length&&Es(Ts)})),console.log("CaseFiles:",s)}));return[s,function(){Ee("/create-casefile")},a,i,l,e=>a(e.id),e=>i(e.id),e=>l(e.id)]}window.addEventListener("message",(function(e){switch(e.data.type){case"caseFilesRetrieved":t=e.data.casefiles,Ss.set(t);break;case"caseFileRetrieved":Js(e.data.casefile);break;case"caseFilesViewRetrieved":Os.set(e.data.casefilesView);break;case"caseFilePageRetrieved":qs.set(e.data.casefileView);break;case"caseFileViewRetrieved":Es.set(e.data.casefileView);break;case"caseFileTotalPagesRetrieved":Ms(e.data.totalPages)}var t}));function Ys(e,t,n){const s=e.slice();return s[12]=t[n],s}function Xs(e){let t,n=e[2],s=[];for(let t=0;t<n.length;t+=1)s[t]=Gs(Ys(e,n,t));return{c(){t=b("ul");for(let e=0;e<s.length;e+=1)s[e].c()},m(e,n){m(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,a){if(36&a){let i;for(n=e[2],i=0;i<n.length;i+=1){const l=Ys(e,n,i);s[i]?s[i].p(l,a):(s[i]=Gs(l),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){e&&h(t),v(s,e)}}}function Gs(e){let t,n,s,a,i=e[12].reportTitle+"";function l(){return e[9](e[12])}return{c(){t=b("li"),n=k(i)},m(e,i){m(e,t,i),g(t,n),s||(a=y(t,"click",l),s=!0)},p(t,s){e=t,4&s&&i!==(i=e[12].reportTitle+"")&&_(n,i)},d(e){e&&h(t),s=!1,a()}}}function Ks(e){let t,n,s,a=e[1].reportTitle+"";return{c(){t=b("p"),n=k("Selected Report: "),s=k(a)},m(e,a){m(e,t,a),g(t,n),g(t,s)},p(e,t){2&t&&a!==(a=e[1].reportTitle+"")&&_(s,a)},d(e){e&&h(t)}}}function Zs(t){let n,s,i,l,o,c,r=t[2]?.length>0&&Xs(t),d=t[1]&&Ks(t);return{c(){n=b("div"),s=b("input"),i=C(),r&&r.c(),l=C(),d&&d.c(),$(s,"type","text"),$(s,"placeholder","Search for a report...")},m(e,a){m(e,n,a),g(n,s),I(s,t[0]),g(n,i),r&&r.m(n,null),g(n,l),d&&d.m(n,null),o||(c=[y(s,"input",t[8]),y(s,"input",t[4])],o=!0)},p(e,[t]){1&t&&s.value!==e[0]&&I(s,e[0]),e[2]?.length>0?r?r.p(e,t):(r=Xs(e),r.c(),r.m(n,l)):r&&(r.d(1),r=null),e[1]?d?d.p(e,t):(d=Ks(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i:e,o:e,d(e){e&&h(n),r&&r.d(),d&&d.d(),o=!1,a(c)}}}function Qs(e,t,n){let s,a;u(e,fn,(e=>n(10,s=e)));let{block:i}=t,{blockIndex:l}=t,o="",c=ge([]);u(e,c,(e=>n(2,a=e)));let r=null;const d=A();function p(e){n(1,r=e),n(6,i.referenceId=e.id,i),n(6,i.content=e.reportTitle,i),c.set([]),n(0,o=""),d("update",{blockIndex:l,referenceId:e.id,content:i.content})}return e.$$set=e=>{"block"in e&&n(6,i=e.block),"blockIndex"in e&&n(7,l=e.blockIndex)},[o,r,a,c,async function(e){var t;n(0,o=e.target.value),o.length>2?(await(t=o,void(""!==t?fn.update((e=>e.filter((e=>e.reportTitle.toLowerCase().includes(t.toLowerCase())||e.reportDescription.toLowerCase().includes(t.toLowerCase())||e.location.toLowerCase().includes(t.toLowerCase())||e.station.toLowerCase().includes(t.toLowerCase())||e.suspectId.toString()===t||e.arrestingLawmenId.toString()===t)))):fn.set(un))),c.set(s)):c.set([])},p,i,l,function(){o=this.value,n(0,o)},e=>p(e)]}class ea extends ue{constructor(e){super(),de(this,e,Qs,Zs,l,{block:6,blockIndex:7})}}function ta(e,t,n){const s=e.slice();return s[12]=t[n],s}function na(e){let t,n=e[2],s=[];for(let t=0;t<n.length;t+=1)s[t]=sa(ta(e,n,t));return{c(){t=b("ul");for(let e=0;e<s.length;e+=1)s[e].c()},m(e,n){m(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,a){if(36&a){let i;for(n=e[2],i=0;i<n.length;i+=1){const l=ta(e,n,i);s[i]?s[i].p(l,a):(s[i]=sa(l),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){e&&h(t),v(s,e)}}}function sa(e){let t,n,s,a,i=e[12].firstname+" "+e[12].lastname;function l(){return e[9](e[12])}return{c(){t=b("li"),n=k(i)},m(e,i){m(e,t,i),g(t,n),s||(a=y(t,"click",l),s=!0)},p(t,s){e=t,4&s&&i!==(i=e[12].firstname+" "+e[12].lastname)&&_(n,i)},d(e){e&&h(t),s=!1,a()}}}function aa(e){let t,n,s,a,i,l=e[1].firstname+"",o=e[1].lastname+"";return{c(){t=b("p"),n=k("Selected Profile: "),s=k(l),a=C(),i=k(o)},m(e,l){m(e,t,l),g(t,n),g(t,s),g(t,a),g(t,i)},p(e,t){2&t&&l!==(l=e[1].firstname+"")&&_(s,l),2&t&&o!==(o=e[1].lastname+"")&&_(i,o)},d(e){e&&h(t)}}}function ia(t){let n,s,i,l,o,c,r=t[2]?.length>0&&na(t),d=t[1]&&aa(t);return{c(){n=b("div"),s=b("input"),i=C(),r&&r.c(),l=C(),d&&d.c(),$(s,"type","text"),$(s,"placeholder","Search for a profile...")},m(e,a){m(e,n,a),g(n,s),I(s,t[0]),g(n,i),r&&r.m(n,null),g(n,l),d&&d.m(n,null),o||(c=[y(s,"input",t[8]),y(s,"input",t[4])],o=!0)},p(e,[t]){1&t&&s.value!==e[0]&&I(s,e[0]),e[2]?.length>0?r?r.p(e,t):(r=na(e),r.c(),r.m(n,l)):r&&(r.d(1),r=null),e[1]?d?d.p(e,t):(d=aa(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i:e,o:e,d(e){e&&h(n),r&&r.d(),d&&d.d(),o=!1,a(c)}}}function la(e,t,n){let s,a;u(e,Yn,(e=>n(10,s=e)));let{block:i}=t,{blockIndex:l}=t,o="",c=ge([]);u(e,c,(e=>n(2,a=e)));let r=null;const d=A();function p(e){n(1,r=e),n(6,i.referenceId=e.id,i),n(6,i.content=e.firstname+" "+e.lastname,i),c.set([]),n(0,o=""),d("update",{blockIndex:l,referenceId:e.id,content:i.content})}return e.$$set=e=>{"block"in e&&n(6,i=e.block),"blockIndex"in e&&n(7,l=e.blockIndex)},[o,r,a,c,async function(e){n(0,o=e.target.value),o.length>2?(await Qn(o),c.set(s)):c.set([])},p,i,l,function(){o=this.value,n(0,o)},e=>p(e)]}class oa extends ue{constructor(e){super(),de(this,e,la,ia,l,{block:6,blockIndex:7})}}function ca(e,t,n){const s=e.slice();return s[31]=t[n],s[32]=t,s[33]=n,s}function ra(e){let t,n;return t=new ea({props:{block:e[31],blockIndex:e[33]}}),{c(){oe(t.$$.fragment)},m(e,s){ce(t,e,s),n=!0},p(e,n){const s={};10&n[0]&&(s.block=e[31]),t.$set(s)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function da(e){let t,n;return t=new oa({props:{block:e[31],blockIndex:e[33]}}),{c(){oe(t.$$.fragment)},m(e,s){ce(t,e,s),n=!0},p(e,n){const s={};10&n[0]&&(s.block=e[31]),t.$set(s)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function ua(t){let n,s,i;function l(){t[18].call(n,t[32],t[33])}function o(...e){return t[19](t[33],...e)}return{c(){n=b("input"),$(n,"type","text"),$(n,"placeholder","Image URL"),$(n,"class","svelte-16dmer9")},m(e,a){m(e,n,a),I(n,t[31].content),s||(i=[y(n,"input",l),y(n,"input",o)],s=!0)},p(e,s){t=e,10&s[0]&&n.value!==t[31].content&&I(n,t[31].content)},i:e,o:e,d(e){e&&h(n),s=!1,a(i)}}}function pa(t){let n,s,i;function l(){t[16].call(n,t[32],t[33])}function o(...e){return t[17](t[33],...e)}return{c(){n=b("textarea"),$(n,"class","svelte-16dmer9")},m(e,a){m(e,n,a),I(n,t[31].content),s||(i=[y(n,"input",l),y(n,"input",o)],s=!0)},p(e,s){t=e,10&s[0]&&I(n,t[31].content)},i:e,o:e,d(e){e&&h(n),s=!1,a(i)}}}function fa(t){let n,s,i;function l(){t[14].call(n,t[32],t[33])}function o(...e){return t[15](t[33],...e)}return{c(){n=b("input"),$(n,"type","text"),$(n,"class","svelte-16dmer9")},m(e,a){m(e,n,a),I(n,t[31].content),s||(i=[y(n,"input",l),y(n,"input",o)],s=!0)},p(e,s){t=e,10&s[0]&&n.value!==t[31].content&&I(n,t[31].content)},i:e,o:e,d(e){e&&h(n),s=!1,a(i)}}}function ga(e){let t,n,s,a,i,l,o,c=e[31].type+"";const r=[fa,pa,ua,da,ra],d=[];function u(e,t){return"Title"===e[31].type?0:"Paragraph"===e[31].type?1:"Image"===e[31].type?2:"Profile Reference"===e[31].type?3:"Report Reference"===e[31].type?4:-1}return~(i=u(e))&&(l=d[i]=r[i](e)),{c(){t=b("div"),n=b("label"),s=k(c),a=C(),l&&l.c(),$(n,"class","svelte-16dmer9"),$(t,"class","block svelte-16dmer9")},m(e,l){m(e,t,l),g(t,n),g(n,s),g(t,a),~i&&d[i].m(t,null),o=!0},p(e,n){(!o||10&n[0])&&c!==(c=e[31].type+"")&&_(s,c);let a=i;i=u(e),i===a?~i&&d[i].p(e,n):(l&&(Q(),ne(d[a],1,1,(()=>{d[a]=null})),ee()),~i?(l=d[i],l?l.p(e,n):(l=d[i]=r[i](e),l.c()),te(l,1),l.m(t,null)):l=null)},i(e){o||(te(l),o=!0)},o(e){ne(l),o=!1},d(e){e&&h(t),~i&&d[i].d()}}}function ma(e){let t,n,s,i,l,o,c,r,d,u,p,f;return{c(){t=b("div"),n=b("label"),n.textContent="Add Block",s=C(),i=b("select"),l=b("option"),l.textContent="Select Block Type",o=b("option"),o.textContent="Title",c=b("option"),c.textContent="Paragraph",r=b("option"),r.textContent="Image",d=b("option"),d.textContent="Profile Reference",u=b("option"),u.textContent="Report Reference",$(n,"class","svelte-16dmer9"),l.__value="",l.value=l.__value,o.__value="Title",o.value=o.__value,c.__value="Paragraph",c.value=c.__value,r.__value="Image",r.value=r.__value,d.__value="Profile Reference",d.value=d.__value,u.__value="Report Reference",u.value=u.__value,$(i,"class","svelte-16dmer9"),void 0===e[0]&&H((()=>e[20].call(i))),$(t,"class","form-group svelte-16dmer9")},m(a,h){m(a,t,h),g(t,n),g(t,s),g(t,i),g(i,l),g(i,o),g(i,c),g(i,r),g(i,d),g(i,u),T(i,e[0],!0),p||(f=[y(i,"change",e[20]),y(i,"change",e[6])],p=!0)},p(e,t){1&t[0]&&T(i,e[0])},d(e){e&&h(t),p=!1,a(f)}}}function ha(e){let t,n,s,i,l,o,c,r,d,u,p,f,x,w,j,T,D,L,S,N,P,F,R,A,J,E,q,O,M,z,W,B,V,H,U,Y,X,G,K=e[2]?"Edit Case File":"Create Case File",Z=e[1]+1+"",se=e[3].pages.length+"",ae=e[2]?"Save Changes":"Save",ie=e[3].pages[e[1]].blocks,le=[];for(let t=0;t<ie.length;t+=1)le[t]=ga(ca(e,ie,t));const oe=e=>ne(le[e],1,1,(()=>{le[e]=null}));let ce=e[3].pages[e[1]].blocks.length<e[4]&&ma(e);return{c(){t=b("div"),n=b("h1"),s=k(K),i=C(),l=b("form"),o=b("div"),c=b("label"),c.textContent="Name",r=C(),d=b("input"),u=C(),p=b("div"),f=b("label"),f.textContent="Pages",x=C(),w=b("div"),j=b("button"),T=k("Previous"),L=C(),S=b("span"),N=k("Page "),P=k(Z),F=k(" of "),R=k(se),A=C(),J=b("button"),E=k("Next"),O=C(),M=b("div");for(let e=0;e<le.length;e+=1)le[e].c();z=C(),ce&&ce.c(),W=C(),B=b("button"),B.textContent="Add Page",V=C(),H=b("button"),U=k(ae),$(c,"class","svelte-16dmer9"),$(d,"type","text"),d.required=!0,$(d,"class","svelte-16dmer9"),$(o,"class","form-group svelte-16dmer9"),$(f,"class","svelte-16dmer9"),$(j,"type","button"),j.disabled=D=0===e[1],$(j,"class","svelte-16dmer9"),$(J,"type","button"),J.disabled=q=e[1]===e[3].pages.length-1,$(J,"class","svelte-16dmer9"),$(w,"class","pagination-controls svelte-16dmer9"),$(M,"class","page svelte-16dmer9"),$(p,"class","form-group svelte-16dmer9"),$(B,"type","button"),$(B,"class","svelte-16dmer9"),$(H,"type","submit"),$(H,"class","svelte-16dmer9"),$(t,"class","casefile-form-container svelte-16dmer9")},m(a,h){m(a,t,h),g(t,n),g(n,s),g(t,i),g(t,l),g(l,o),g(o,c),g(o,r),g(o,d),I(d,e[3].name),g(l,u),g(l,p),g(p,f),g(p,x),g(p,w),g(w,j),g(j,T),g(w,L),g(w,S),g(S,N),g(S,P),g(S,F),g(S,R),g(w,A),g(w,J),g(J,E),g(p,O),g(p,M);for(let e=0;e<le.length;e+=1)le[e]&&le[e].m(M,null);g(M,z),ce&&ce.m(M,null),g(l,W),g(l,B),g(l,V),g(l,H),g(H,U),Y=!0,X||(G=[y(d,"input",e[11]),y(j,"click",e[12]),y(J,"click",e[13]),y(B,"click",e[5]),y(l,"submit",e[8])],X=!0)},p(e,t){if((!Y||4&t[0])&&K!==(K=e[2]?"Edit Case File":"Create Case File")&&_(s,K),8&t[0]&&d.value!==e[3].name&&I(d,e[3].name),(!Y||2&t[0]&&D!==(D=0===e[1]))&&(j.disabled=D),(!Y||2&t[0])&&Z!==(Z=e[1]+1+"")&&_(P,Z),(!Y||8&t[0])&&se!==(se=e[3].pages.length+"")&&_(R,se),(!Y||10&t[0]&&q!==(q=e[1]===e[3].pages.length-1))&&(J.disabled=q),138&t[0]){let n;for(ie=e[3].pages[e[1]].blocks,n=0;n<ie.length;n+=1){const s=ca(e,ie,n);le[n]?(le[n].p(s,t),te(le[n],1)):(le[n]=ga(s),le[n].c(),te(le[n],1),le[n].m(M,z))}for(Q(),n=ie.length;n<le.length;n+=1)oe(n);ee()}e[3].pages[e[1]].blocks.length<e[4]?ce?ce.p(e,t):(ce=ma(e),ce.c(),ce.m(M,null)):ce&&(ce.d(1),ce=null),(!Y||4&t[0])&&ae!==(ae=e[2]?"Save Changes":"Save")&&_(U,ae)},i(e){if(!Y){for(let e=0;e<ie.length;e+=1)te(le[e]);Y=!0}},o(e){le=le.filter(Boolean);for(let e=0;e<le.length;e+=1)ne(le[e]);Y=!1},d(e){e&&h(t),v(le,e),ce&&ce.d(),X=!1,a(G)}}}function va(e,t,n){u(e,Yn,(e=>n(23,e))),u(e,gn,(e=>n(24,e))),u(e,Un,(e=>n(25,e)));let{params:s}=t;const a=De?.maxBlocksPerPage||10;let i="",l=0,o=!1,c={name:"",pages:[{blocks:[]}]};function r(e,t){c.pages[l].blocks[e].content=t.target.value,n(3,c={...c})}function d(e){e>=0&&e<c.pages.length&&n(1,l=e)}F((()=>{void 0!==s&&void 0!==s.caseId&&(parseInt(s.caseId,10),n(2,o=!0),Ns.subscribe((e=>{0===Object.keys(e).length&&Js(Is)})),Ns.subscribe((e=>{n(3,c=e)})))}));return e.$$set=e=>{"params"in e&&n(10,s=e.params)},[i,l,o,c,a,function(){n(3,c.pages=[...c.pages,{blocks:[]}],c),n(1,l=c.pages.length-1)},function(){i&&(n(3,c.pages[l].blocks=[...c.pages[l].blocks,{type:i,content:""}],c),n(0,i=""))},r,function(e){var t;e.preventDefault(),o?(t=c,Ss.update((e=>{const n=e.find((e=>e.id===t.id));return n&&(n.name=t.name,n.updated="2021-01-01 00:00:00",n.user_id=t.user_id,n.status=t.status,n.pages=t.pages),Js(n),e}))):function(e){Ss.update((t=>{const n={id:t.length+1,name:e.name,created:"2021-01-01 00:00:00",updated:"2021-01-01 00:00:00",user_id:e.user_id,status:"open",pages:e.pages};return[...t,n]}))}(c),Ee("/case-files")},d,s,function(){c.name=this.value,n(3,c)},()=>d(l-1),()=>d(l+1),function(e,t){e[t].content=this.value,n(3,c),n(1,l)},(e,t)=>r(e,t),function(e,t){e[t].content=this.value,n(3,c),n(1,l)},(e,t)=>r(e,t),function(e,t){e[t].content=this.value,n(3,c),n(1,l)},(e,t)=>r(e,t),function(){i=D(this),n(0,i)}]}class ba extends ue{constructor(e){super(),de(this,e,va,ha,l,{params:10},null,[-1,-1])}}function ka(e,t,n){const s=e.slice();return s[12]=t[n],s}function Ca(t){let n;return{c(){n=b("p"),n.textContent="Loading..."},m(e,t){m(e,n,t)},p:e,d(e){e&&h(n)}}}function xa(e){let t,n,s,a,i,l=e[3].name+"",o=e[1]>1&&ya(e),c=e[2]&&wa(e);return{c(){t=b("div"),n=b("h1"),s=k(l),a=C(),o&&o.c(),i=C(),c&&c.c()},m(e,l){m(e,t,l),g(t,n),g(n,s),g(t,a),o&&o.m(t,null),g(t,i),c&&c.m(t,null)},p(e,n){8&n&&l!==(l=e[3].name+"")&&_(s,l),e[1]>1?o?o.p(e,n):(o=ya(e),o.c(),o.m(t,i)):o&&(o.d(1),o=null),e[2]?c?c.p(e,n):(c=wa(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d(e){e&&h(t),o&&o.d(),c&&c.d()}}}function ya(e){let t,n,s,i,l,o,c,r,d,u,p,f,v,x,w,j,I=e[0]+1+"",T=e[3].pages.length+"";return{c(){t=b("div"),n=b("button"),s=k("Previous"),l=C(),o=b("span"),c=k("Page "),r=k(I),d=k(" of "),u=k(T),p=C(),f=b("button"),v=k("Next"),n.disabled=i=0===e[0],$(n,"class","svelte-16f667m"),f.disabled=x=e[0]===e[3].pages.length-1,$(f,"class","svelte-16f667m"),$(t,"class","pagination-controls svelte-16f667m")},m(a,i){m(a,t,i),g(t,n),g(n,s),g(t,l),g(t,o),g(o,c),g(o,r),g(o,d),g(o,u),g(t,p),g(t,f),g(f,v),w||(j=[y(n,"click",e[8]),y(f,"click",e[7])],w=!0)},p(e,t){1&t&&i!==(i=0===e[0])&&(n.disabled=i),1&t&&I!==(I=e[0]+1+"")&&_(r,I),8&t&&T!==(T=e[3].pages.length+"")&&_(u,T),9&t&&x!==(x=e[0]===e[3].pages.length-1)&&(f.disabled=x)},d(e){e&&h(t),w=!1,a(j)}}}function wa(e){let t,n=e[2].blocks,s=[];for(let t=0;t<n.length;t+=1)s[t]=Da(ka(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=x()},m(e,n){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,n);m(e,t,n)},p(e,a){if(100&a){let i;for(n=e[2].blocks,i=0;i<n.length;i+=1){const l=ka(e,n,i);s[i]?s[i].p(l,a):(s[i]=Da(l),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){v(s,e),e&&h(t)}}}function $a(e){let t,n,s,a,i,l=e[12].content+"";function o(){return e[11](e[12])}return{c(){t=b("p"),n=k(l),s=C()},m(e,l){m(e,t,l),g(t,n),g(t,s),a||(i=y(t,"click",o),a=!0)},p(t,s){e=t,4&s&&l!==(l=e[12].content+"")&&_(n,l)},d(e){e&&h(t),a=!1,i()}}}function ja(e){let t,n,s,a,i,l=e[12].content+"";function o(){return e[10](e[12])}return{c(){t=b("p"),n=k(l),s=C()},m(e,l){m(e,t,l),g(t,n),g(t,s),a||(i=y(t,"click",o),a=!0)},p(t,s){e=t,4&s&&l!==(l=e[12].content+"")&&_(n,l)},d(e){e&&h(t),a=!1,i()}}}function _a(e){let t,n;return{c(){t=b("img"),r(t.src,n=e[12].content)||$(t,"src",n),$(t,"alt","Image")},m(e,n){m(e,t,n)},p(e,s){4&s&&!r(t.src,n=e[12].content)&&$(t,"src",n)},d(e){e&&h(t)}}}function Ia(e){let t,n,s=e[12].content+"";return{c(){t=b("p"),n=k(s)},m(e,s){m(e,t,s),g(t,n)},p(e,t){4&t&&s!==(s=e[12].content+"")&&_(n,s)},d(e){e&&h(t)}}}function Ta(e){let t,n,s=e[12].content+"";return{c(){t=b("h2"),n=k(s)},m(e,s){m(e,t,s),g(t,n)},p(e,t){4&t&&s!==(s=e[12].content+"")&&_(n,s)},d(e){e&&h(t)}}}function Da(e){let t;function n(e,t){return"Title"===e[12].type?Ta:"Paragraph"===e[12].type?Ia:"Image"===e[12].type?_a:"Profile Reference"===e[12].type?ja:"Report Reference"===e[12].type?$a:void 0}let s=n(e),a=s&&s(e);return{c(){a&&a.c(),t=x()},m(e,n){a&&a.m(e,n),m(e,t,n)},p(e,i){s===(s=n(e))&&a?a.p(e,i):(a&&a.d(1),a=s&&s(e),a&&(a.c(),a.m(t.parentNode,t)))},d(e){a&&a.d(e),e&&h(t)}}}function La(t){let n;function s(e,t){return e[3]?xa:Ca}let a=s(t),i=a(t);return{c(){i.c(),n=x()},m(e,t){i.m(e,t),m(e,n,t)},p(e,[t]){a===(a=s(e))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&h(n)}}}function Sa(e,t,n){let s,a,i,l;u(e,As,(e=>n(1,a=e))),u(e,Fs,(e=>n(2,i=e))),u(e,Rs,(e=>n(3,l=e)));let{params:o}=t,c=ge(0);function r(e){Ee(`/player-profiles/${e}`)}function d(e){Ee(`/report-details/${e}`)}u(e,c,(e=>n(0,s=e))),F((()=>{zs(parseInt(o.caseId,10)),Ws(s),console.log("CurrentPageIndex: ",s),console.log("CaseFileView: ",l),console.log("CaseFilePageView: ",i),console.log("TotalPages: ",a)}));return e.$$set=e=>{"params"in e&&n(9,o=e.params)},[s,a,i,l,c,r,d,function(){c.update((e=>e+1)),Ws(s)},function(){c.update((e=>e-1)),Ws(s)},o,e=>r(e.referenceId),e=>d(e.referenceId)]}const Na=ge([{id:1,title:"Training 1",description:"Description 1",date:"2021-01-01",location:"Location 1",maxAttendees:10,currentAttendees:5,instructorId:1,created_at:"2021-01-01",updated_at:"2021-01-01",attendees:[{id:1,training_id:1,attendeeId:1,attendeeName:"John Doe",created_at:"2021-01-01",updated_at:"2021-01-01"},{id:2,training_id:1,attendeeId:2,attendeeName:"Jane Doe",created_at:"2021-01-01",updated_at:"2021-01-01"}]},{id:2,title:"Training 2",description:"Description 2",date:"2021-01-02",location:"Location 2",maxAttendees:10,currentAttendees:5,instructorId:1,created_at:"2021-01-02",updated_at:"2021-01-02",attendees:[{id:3,training_id:2,attendeeId:1,attendeeName:"John Doe",created_at:"2021-01-02",updated_at:"2021-01-02"},{id:4,training_id:2,attendeeId:2,attendeeName:"Jane Doe",created_at:"2021-01-02",updated_at:"2021-01-02"}]}]),Pa=ge({}),Fa=ge([]);function Ra(e){Na.set(e)}function Aa(e){Pa.set(e)}function Ja(e){Fa.set(e)}function Ea(e){Aa({id:1,title:"Training 1",description:"Description 1",date:"2021-01-01",location:"Location 1",maxAttendees:10,currentAttendees:5,instructorId:1,created_at:"2021-01-01",updated_at:"2021-01-01",attendees:[{id:1,training_id:1,attendeeId:1,attendeeName:"John Doe",created_at:"2021-01-01",updated_at:"2021-01-01"},{id:2,training_id:1,attendeeId:2,attendeeName:"Jane Doe",created_at:"2021-01-01",updated_at:"2021-01-01"}]}),Pa.subscribe((e=>{console.log("1",e),Ja(e.attendees)}))}function qa(e,t,n){const s=e.slice();return s[6]=t[n],s}function Oa(e){let t,n,s,a,i,l,o,c,r,d,u,p,f=e[6].date+"",v=e[6].title+"",x=e[6].location+"";function w(){return e[5](e[6])}return{c(){t=b("tr"),n=b("td"),s=k(f),a=C(),i=b("td"),l=k(v),o=C(),c=b("td"),r=k(x),d=C(),$(n,"class","svelte-4emsvh"),$(i,"class","svelte-4emsvh"),$(c,"class","svelte-4emsvh"),$(t,"class","svelte-4emsvh")},m(e,f){m(e,t,f),g(t,n),g(n,s),g(t,a),g(t,i),g(i,l),g(t,o),g(t,c),g(c,r),g(t,d),u||(p=y(t,"click",w),u=!0)},p(t,n){e=t,1&n&&f!==(f=e[6].date+"")&&_(s,f),1&n&&v!==(v=e[6].title+"")&&_(l,v),1&n&&x!==(x=e[6].location+"")&&_(r,x)},d(e){e&&h(t),u=!1,p()}}}function Ma(t){let n,s,i,l,o;return{c(){n=b("button"),n.textContent="Create New Training",s=C(),i=b("button"),i.textContent="Delete Training"},m(e,a){m(e,n,a),m(e,s,a),m(e,i,a),l||(o=[y(n,"click",t[3]),y(i,"click",t[2])],l=!0)},p:e,d(e){e&&h(n),e&&h(s),e&&h(i),l=!1,a(o)}}}function za(t){let n,s,a,i,l,o,c,r,d=Ce(t[1],"canCreateTraining"),u=t[0],p=[];for(let e=0;e<u.length;e+=1)p[e]=Oa(qa(t,u,e));let f=d&&Ma(t);return{c(){n=b("div"),s=b("h1"),s.textContent="Training Sessions",a=C(),i=b("table"),l=b("thead"),l.innerHTML='<tr class="svelte-4emsvh"><th class="svelte-4emsvh">Date</th> \n            <th class="svelte-4emsvh">Training Type</th> \n            <th class="svelte-4emsvh">Location</th></tr>',o=C(),c=b("tbody");for(let e=0;e<p.length;e+=1)p[e].c();r=C(),f&&f.c(),$(i,"class","svelte-4emsvh"),$(n,"class","trainings-container svelte-4emsvh")},m(e,t){m(e,n,t),g(n,s),g(n,a),g(n,i),g(i,l),g(i,o),g(i,c);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(c,null);g(n,r),f&&f.m(n,null)},p(e,[t]){if(17&t){let n;for(u=e[0],n=0;n<u.length;n+=1){const s=qa(e,u,n);p[n]?p[n].p(s,t):(p[n]=Oa(s),p[n].c(),p[n].m(c,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=u.length}2&t&&(d=Ce(e[1],"canCreateTraining")),d?f?f.p(e,t):(f=Ma(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},i:e,o:e,d(e){e&&h(n),v(p,e),f&&f.d()}}}function Wa(e,t,n){let s,a;function i(e){Ee(`/trainings/${e}`)}u(e,Na,(e=>n(0,s=e))),u(e,Te,(e=>n(1,a=e))),F((()=>{Ra([{id:1,title:"Training 1",description:"Description 1",date:"2021-01-01",location:"Location 1",maxAttendees:10,currentAttendees:5,instructorId:1,created_at:"2021-01-01",updated_at:"2021-01-01",attendees:[{id:1,training_id:1,attendeeId:1,attendeeName:"John Doe",created_at:"2021-01-01",updated_at:"2021-01-01"},{id:2,training_id:1,attendeeId:2,attendeeName:"Jane Doe",created_at:"2021-01-01",updated_at:"2021-01-01"}]},{id:2,title:"Training 2",description:"Description 2",date:"2021-01-02",location:"Location 2",maxAttendees:10,currentAttendees:5,instructorId:1,created_at:"2021-01-02",updated_at:"2021-01-02",attendees:[{id:3,training_id:2,attendeeId:1,attendeeName:"John Doe",created_at:"2021-01-02",updated_at:"2021-01-02"},{id:4,training_id:2,attendeeId:2,attendeeName:"Jane Doe",created_at:"2021-01-02",updated_at:"2021-01-02"}]}])}));return[s,a,function(e){!function(e){Na.update((t=>t.filter((t=>t.id!==e))))}(e)},function(){Ee("/new-training")},i,e=>i(e.id)]}window.addEventListener("message",(function(e){switch(e.data.type){case"trainings":Ra(e.data.trainings);break;case"training":Aa(e.data.training);break;case"attendees":Ja(e.data.attendees)}}));function Ba(e,t,n){const s=e.slice();return s[7]=t[n],s}function Va(t){let n;return{c(){n=b("div"),n.textContent="Loading..."},m(e,t){m(e,n,t)},p:e,d(e){e&&h(n)}}}function Ha(e){let t,n,s,a,i,l,o,c,r,d,u,p,f,x,w,j,I,T,D,L,S,N,P,F=e[1].title+"",R=new Date(e[1].date).toLocaleString()+"",A=e[1].description+"",J=e[1].location+"",E=e[0]?"Attending":"Attend",q=Ce(e[3],"canEditTraining"),O=e[2],M=[];for(let t=0;t<O.length;t+=1)M[t]=Ua(Ba(e,O,t));let z=q&&Ya(e);return{c(){t=b("div"),n=b("h1"),s=k(F),a=C(),i=b("p"),l=k("Date: "),o=k(R),c=C(),r=b("p"),d=k("Description: "),u=k(A),p=C(),f=b("p"),x=k("Location: "),w=k(J),j=C(),I=b("ul");for(let e=0;e<M.length;e+=1)M[e].c();T=C(),D=b("button"),L=k(E),S=C(),z&&z.c(),$(n,"class","svelte-cr2ei3"),$(D,"class","svelte-cr2ei3")},m(h,v){m(h,t,v),g(t,n),g(n,s),g(t,a),g(t,i),g(i,l),g(i,o),g(t,c),g(t,r),g(r,d),g(r,u),g(t,p),g(t,f),g(f,x),g(f,w),g(t,j),g(t,I);for(let e=0;e<M.length;e+=1)M[e]&&M[e].m(I,null);g(t,T),g(t,D),g(D,L),g(t,S),z&&z.m(t,null),N||(P=y(D,"click",e[5]),N=!0)},p(e,n){if(2&n&&F!==(F=e[1].title+"")&&_(s,F),2&n&&R!==(R=new Date(e[1].date).toLocaleString()+"")&&_(o,R),2&n&&A!==(A=e[1].description+"")&&_(u,A),2&n&&J!==(J=e[1].location+"")&&_(w,J),4&n){let t;for(O=e[2],t=0;t<O.length;t+=1){const s=Ba(e,O,t);M[t]?M[t].p(s,n):(M[t]=Ua(s),M[t].c(),M[t].m(I,null))}for(;t<M.length;t+=1)M[t].d(1);M.length=O.length}1&n&&E!==(E=e[0]?"Attending":"Attend")&&_(L,E),8&n&&(q=Ce(e[3],"canEditTraining")),q?z?z.p(e,n):(z=Ya(e),z.c(),z.m(t,null)):z&&(z.d(1),z=null)},d(e){e&&h(t),v(M,e),z&&z.d(),N=!1,P()}}}function Ua(e){let t,n,s=e[7].attendeeName+"";return{c(){t=b("li"),n=k(s)},m(e,s){m(e,t,s),g(t,n)},p(e,t){4&t&&s!==(s=e[7].attendeeName+"")&&_(n,s)},d(e){e&&h(t)}}}function Ya(e){let t,n,s;return{c(){t=b("button"),t.textContent="Edit",$(t,"class","svelte-cr2ei3")},m(a,l){m(a,t,l),n||(s=y(t,"click",(function(){i(e[4](e[1].id))&&e[4](e[1].id).apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&h(t),n=!1,s()}}}function Xa(t){let n;function s(e,t){return e[1]?Ha:Va}let a=s(t),i=a(t);return{c(){i.c(),n=x()},m(e,t){i.m(e,t),m(e,n,t)},p(e,[t]){a===(a=s(e))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&h(n)}}}function Ga(e,t,n){let s,a,i;u(e,Pa,(e=>n(1,s=e))),u(e,Fa,(e=>n(2,a=e))),u(e,Te,(e=>n(3,i=e)));let{params:l}=t,o=!1;return F((()=>{const e=parseInt(l.trainingId,10);var t,i;console.log("Training ID from URL:",e),Ea(),console.log("Training:",s),console.log("attendees:",a),n(0,(t=s.id,i=Ie,o=void Na.subscribe((e=>!!e.find((e=>e.id===t)).attendees.find((e=>e.attendeeId===i))))))})),e.$$set=e=>{"params"in e&&n(6,l=e.params)},[o,s,a,i,function(e){Ee(`/edit-training/${e}`)},function(){var e,t;o?(e=s.id,t=Ie,Na.update((n=>{const s=n.find((t=>t.id===e));return s.currentAttendees-=1,s.attendees=s.attendees.filter((e=>e.attendeeId!==t)),Aa(s),n}))):function(e,t){Na.update((n=>{const s=n.find((t=>t.id===e));return s.currentAttendees+=1,s.attendees.push({id:s.attendees.length+1,training_id:e,attendeeId:t,attendeeName:"David Doe",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}),Aa(s),n}))}(s.id,Ie),n(0,o=!o)},l]}function Ka(t){let n;return{c(){n=b("div"),n.textContent="You do not have permission to create or edit training sessions."},m(e,t){m(e,n,t)},p:e,d(e){e&&h(n)}}}function Za(e){let t,n,s,i,l,o,c,r,d,u,p,f,v,x,w,j,T,D,L,S,N,P,F,R=e[0]?"Edit Training":"Create Training";return{c(){t=b("div"),n=b("h1"),s=k(R),i=C(),l=b("form"),o=b("div"),c=b("label"),c.textContent="Title",r=C(),d=b("input"),u=C(),p=b("div"),f=b("label"),f.textContent="Date",v=C(),x=b("input"),w=C(),j=b("div"),T=b("label"),T.textContent="Description",D=C(),L=b("textarea"),S=C(),N=b("button"),N.textContent="Save",$(d,"type","text"),$(d,"name","title"),d.required=!0,$(d,"class","svelte-b3o17j"),$(x,"type","datetime-local"),$(x,"name","date"),x.required=!0,$(x,"class","svelte-b3o17j"),$(L,"name","description"),L.required=!0,$(L,"class","svelte-b3o17j"),$(N,"type","submit"),$(N,"class","svelte-b3o17j"),$(t,"class","training-form-container svelte-b3o17j")},m(a,h){m(a,t,h),g(t,n),g(n,s),g(t,i),g(t,l),g(l,o),g(o,c),g(o,r),g(o,d),I(d,e[1].title),g(l,u),g(l,p),g(p,f),g(p,v),g(p,x),I(x,e[1].date),g(l,w),g(l,j),g(j,T),g(j,D),g(j,L),I(L,e[1].description),g(l,S),g(l,N),P||(F=[y(d,"input",e[6]),y(d,"input",e[3]),y(x,"input",e[7]),y(x,"input",e[3]),y(L,"input",e[8]),y(L,"input",e[3]),y(l,"submit",e[4])],P=!0)},p(e,t){1&t&&R!==(R=e[0]?"Edit Training":"Create Training")&&_(s,R),2&t&&d.value!==e[1].title&&I(d,e[1].title),2&t&&I(x,e[1].date),2&t&&I(L,e[1].description)},d(e){e&&h(t),P=!1,a(F)}}}function Qa(t){let n,s;function a(e,t){return 5&t&&(n=null),null==n&&(n=!!(e[0]?Ce(e[2],"canEditTraining"):Ce(e[2],"canCreateTraining"))),n?Za:Ka}let i=a(t,-1),l=i(t);return{c(){l.c(),s=x()},m(e,t){l.m(e,t),m(e,s,t)},p(e,[t]){i===(i=a(e,t))&&l?l.p(e,t):(l.d(1),l=i(e),l&&(l.c(),l.m(s.parentNode,s)))},i:e,o:e,d(e){l.d(e),e&&h(s)}}}function ei(e,t,n){let s;u(e,Te,(e=>n(2,s=e)));let{params:a}=t,i=!1,l={},o=new Date;return F((()=>{if(void 0!==a){let e=window.location.href;parseInt(a.trainingId,10),e.includes("edit-training")&&(n(0,i=!0),n(1,l=Ea())),o=new Date(l.date+"T"+l.time),console.log("Composed date:",o)}})),e.$$set=e=>{"params"in e&&n(5,a=e.params)},[i,l,s,function(e){n(1,l[e.target.name]=e.target.value,l)},function(e){var t;e.preventDefault(),i?(t=l,Na.update((e=>{const n=e.find((e=>e.id===t.id));return n.title=t.title,n.description=t.description,n.date=t.date,Aa(n),e}))):function(e){Na.update((t=>{const n={id:t.length+1,title:e.title,description:e.description,date:e.date,location:e.location,maxAttendees:e.maxAttendees,currentAttendees:0,instructorId:e.instructorId,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),attendees:[]};return[...t,n]}))}(l),Ee("/trainings")},a,function(){l.title=this.value,n(1,l)},function(){l.date=this.value,n(1,l)},function(){l.description=this.value,n(1,l)}]}class ti extends ue{constructor(e){super(),de(this,e,ei,Qa,l,{params:5})}}const ni={"/":class extends ue{constructor(e){super(),de(this,e,null,mt,l,{})}},"/roster":class extends ue{constructor(e){super(),de(this,e,Rt,Ft,l,{})}},"/alerts":class extends ue{constructor(e){super(),de(this,e,sn,nn,l,{},null,[-1,-1])}},"/rosterProfiles/:id":class extends ue{constructor(e){super(),de(this,e,Ot,qt,l,{})}},"/alert/:id":class extends ue{constructor(e){super(),de(this,e,dn,rn,l,{params:4})}},"/laws":class extends ue{constructor(e){super(),de(this,e,St,Lt,l,{})}},"/reports":class extends ue{constructor(e){super(),de(this,e,Pn,Nn,l,{})}},"/report-details/:reportId":class extends ue{constructor(e){super(),de(this,e,Jn,An,l,{params:2})}},"/new-report":class extends ue{constructor(e){super(),de(this,e,Vn,Bn,l,{},null,[-1,-1])}},"/player-profiles":class extends ue{constructor(e){super(),de(this,e,vs,hs,l,{})}},"/player-profiles/:profileId":class extends ue{constructor(e){super(),de(this,e,fs,us,l,{params:13})}},"/new-profile":class extends ue{constructor(e){super(),de(this,e,ks,bs,l,{})}},"/calculator-configuration/":class extends ue{constructor(e){super(),de(this,e,_s,js,l,{})}},"/trainings":class extends ue{constructor(e){super(),de(this,e,Wa,za,l,{})}},"/trainings/:trainingId":class extends ue{constructor(e){super(),de(this,e,Ga,Xa,l,{params:6})}},"/new-training":ti,"/edit-training/:trainingId":ti,"/case-files":class extends ue{constructor(e){super(),de(this,e,Us,Hs,l,{})}},"/case-files/:caseId":class extends ue{constructor(e){super(),de(this,e,Sa,La,l,{params:9})}},"/edit-casefile/:caseId":ba,"/create-casefile":ba};function si(e){let t,n,s;return n=new Ke({props:{$$slots:{default:[ai]},$$scope:{ctx:e}}}),{c(){t=b("main"),oe(n.$$.fragment),$(t,"class","svelte-12kjncx")},m(e,a){m(e,t,a),ce(n,t,null),s=!0},p(e,t){const s={};512&t&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){s||(te(n.$$.fragment,e),s=!0)},o(e){ne(n.$$.fragment,e),s=!1},d(e){e&&h(t),re(n)}}}function ai(t){let n,s;return n=new Oe({props:{routes:ni}}),{c(){oe(n.$$.fragment)},m(e,t){ce(n,e,t),s=!0},p:e,i(e){s||(te(n.$$.fragment,e),s=!0)},o(e){ne(n.$$.fragment,e),s=!1},d(e){re(n,e)}}}function ii(e){let t,n,s=e[0]&&si(e);return{c(){s&&s.c(),t=x()},m(e,a){s&&s.m(e,a),m(e,t,a),n=!0},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&te(s,1)):(s=si(e),s.c(),te(s,1),s.m(t.parentNode,t)):s&&(Q(),ne(s,1,1,(()=>{s=null})),ee())},i(e){n||(te(s),n=!0)},o(e){ne(s),n=!1},d(e){s&&s.d(e),e&&h(t)}}}function li(e,t,n){let s;u(e,Le,(e=>n(0,s=e)));let a=[],i=[],l={},o=[];return F((()=>{f(Le,s=!0,s)})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&f(Le,s=!1,s)})),window.addEventListener("message",(function(e){let t=e.data;"showMDT"===t.action&&(console.log("Toggling MDT visibility"),f(Le,s=!0,s),t.profiles,t.reports,t.laws,a=t.wantedPlayers||[],i=t.alerts||[],l=t.officerStatus||{},o=t.announcements||[]),"receiveProfiles"===t.action&&t.profiles,"receiveReports"===t.action&&t.reports,"receiveLaws"===t.action&&t.laws,"receiveWantedPlayers"===t.action&&(a=t.wantedPlayers||[]),"receiveAlerts"===t.action&&(i=t.alerts||[]),"updateOfficerStatus"===t.action&&(l[t.playerId]=t.onDuty),"receiveAnnouncement"===t.action&&o.push(t.message),"alertAdded"===t.action&&i.push(t.alert),"deleteAlert"===t.action&&(i=i.filter((e=>e.id!==t.alertId))),"addWantedPlayer"===t.action&&a.push(t.player),"removeWantedPlayer"===t.action&&(a=a.filter((e=>e.id!==t.playerId)))})),[s,{maxBlocksPerPage:10}]}return new class extends ue{constructor(e){super(),de(this,e,li,ii,l,{configData:1})}get configData(){return this.$$.ctx[1]}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
